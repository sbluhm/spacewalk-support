diff -urN yum-3.4.3-patched-orig/bin/yum.py yum-3.4.3-patched/bin/yum.py
--- yum-3.4.3-patched-orig/bin/yum.py	2020-03-10 08:28:25.778191552 +0100
+++ yum-3.4.3-patched/bin/yum.py	2020-03-10 09:02:19.360365310 +0100
@@ -1,4 +1,4 @@
-#!/usr/bin/python
+#!/usr/bin/python2
 import sys
 
 sys.stderr.write("""\
diff -urN yum-3.4.3-patched-orig/bin/yum-updatesd.py yum-3.4.3-patched/bin/yum-updatesd.py
--- yum-3.4.3-patched-orig/bin/yum-updatesd.py	2011-06-28 22:27:22.000000000 +0200
+++ yum-3.4.3-patched/bin/yum-updatesd.py	2020-03-10 09:02:26.950395820 +0100
@@ -1,4 +1,4 @@
-#!/usr/bin/python
+#!/usr/bin/python2
 import sys, os
 import optparse
 
diff -urN yum-3.4.3-patched-orig/callback.py yum-3.4.3-patched/callback.py
--- yum-3.4.3-patched-orig/callback.py	2020-03-10 08:28:25.706191262 +0100
+++ yum-3.4.3-patched/callback.py	2020-03-10 08:53:58.780353048 +0100
@@ -1,4 +1,4 @@
-#!/usr/bin/python -t
+#!/usr/bin/python2 -t
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
 # the Free Software Foundation; either version 2 of the License, or
diff -urN yum-3.4.3-patched-orig/cli.py yum-3.4.3-patched/cli.py
--- yum-3.4.3-patched-orig/cli.py	2020-03-10 08:28:25.707191266 +0100
+++ yum-3.4.3-patched/cli.py	2020-03-10 08:53:58.776353032 +0100
@@ -1,4 +1,4 @@
-#!/usr/bin/python -t
+#!/usr/bin/python2 -t
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
 # the Free Software Foundation; either version 2 of the License, or
diff -urN yum-3.4.3-patched-orig/completion-helper.py yum-3.4.3-patched/completion-helper.py
--- yum-3.4.3-patched-orig/completion-helper.py	2020-03-10 08:28:25.777191547 +0100
+++ yum-3.4.3-patched/completion-helper.py	2020-03-10 08:53:58.760352967 +0100
@@ -1,4 +1,4 @@
-#!/usr/bin/python -t
+#!/usr/bin/python2 -t
 # -*- coding: utf-8 -*-
 #
 # Copyright (C) 2011 Ville Skyttä
diff -urN yum-3.4.3-patched-orig/docs/sphinxdocs/rstgenerator.py yum-3.4.3-patched/docs/sphinxdocs/rstgenerator.py
--- yum-3.4.3-patched-orig/docs/sphinxdocs/rstgenerator.py	2020-03-10 08:28:25.707191266 +0100
+++ yum-3.4.3-patched/docs/sphinxdocs/rstgenerator.py	2020-03-10 09:03:11.739575871 +0100
@@ -1,4 +1,4 @@
-#! /usr/bin/python
+#! /usr/bin/python2
 
 import sys, re, os
 
diff -urN yum-3.4.3-patched-orig/Makefile yum-3.4.3-patched/Makefile
--- yum-3.4.3-patched-orig/Makefile	2020-03-10 08:28:25.778191552 +0100
+++ yum-3.4.3-patched/Makefile	2020-03-10 08:55:49.941799897 +0100
@@ -82,11 +82,11 @@
 	epydoc --check $(DOCS)
 
 test:
-	@nosetests -i ".*test" test
+	@nosetests-2 -i ".*test" test
 	cd po; make test
 
 test-skipbroken:
-	@nosetests -i ".*test" test/skipbroken-tests.py
+	@nosetests-2 -i ".*test" test/skipbroken-tests.py
 
 check: test
 
@@ -101,7 +101,7 @@
 	git log --since=2007-05-16 --pretty --numstat --summary | git2cl | cat > ChangeLog
 
 testnewbehavior:
-	@NEW_BEHAVIOR=1 nosetests -i ".*test" test
+	@NEW_BEHAVIOR=1 nosetests-2 -i ".*test" test
 
 archive: remove_spec = ${PKGNAME}-daily.spec
 archive: _archive
diff -urN yum-3.4.3-patched-orig/output.py yum-3.4.3-patched/output.py
--- yum-3.4.3-patched-orig/output.py	2020-03-10 08:28:25.710191278 +0100
+++ yum-3.4.3-patched/output.py	2020-03-10 08:53:58.779353044 +0100
@@ -1,4 +1,4 @@
-#!/usr/bin/python -t
+#!/usr/bin/python2 -t
 
 """Handle actual output from the cli."""
 
diff -urN yum-3.4.3-patched-orig/po/pygettext.py yum-3.4.3-patched/po/pygettext.py
--- yum-3.4.3-patched-orig/po/pygettext.py	2020-03-10 08:28:25.745191419 +0100
+++ yum-3.4.3-patched/po/pygettext.py	2020-03-10 09:11:37.058609261 +0100
@@ -1,4 +1,4 @@
-#!/usr/bin/python
+#!/usr/bin/python2
 # coding=utf-8
 # Originally written by Barry Warsaw <bwarsaw@python.org>
 #
diff -urN yum-3.4.3-patched-orig/rpmUtils/arch.py yum-3.4.3-patched/rpmUtils/arch.py
--- yum-3.4.3-patched-orig/rpmUtils/arch.py	2020-03-10 08:28:25.774191535 +0100
+++ yum-3.4.3-patched/rpmUtils/arch.py	2020-03-10 09:03:41.731696428 +0100
@@ -1,4 +1,4 @@
-#!/usr/bin/python
+#!/usr/bin/python2
 #
 
 import os
diff -urN yum-3.4.3-patched-orig/rpmUtils/__init__.py yum-3.4.3-patched/rpmUtils/__init__.py
--- yum-3.4.3-patched-orig/rpmUtils/__init__.py	2011-06-28 22:27:22.000000000 +0200
+++ yum-3.4.3-patched/rpmUtils/__init__.py	2020-03-10 08:53:58.782353056 +0100
@@ -1,4 +1,4 @@
-#!/usr/bin/python -tt
+#!/usr/bin/python2 -tt
 
 
 class RpmUtilsError(Exception):
diff -urN yum-3.4.3-patched-orig/rpmUtils/miscutils.py yum-3.4.3-patched/rpmUtils/miscutils.py
--- yum-3.4.3-patched-orig/rpmUtils/miscutils.py	2011-06-28 22:27:22.000000000 +0200
+++ yum-3.4.3-patched/rpmUtils/miscutils.py	2020-03-10 08:53:58.784353064 +0100
@@ -1,4 +1,4 @@
-#!/usr/bin/python -tt
+#!/usr/bin/python2 -tt
 
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
diff -urN yum-3.4.3-patched-orig/rpmUtils/oldUtils.py yum-3.4.3-patched/rpmUtils/oldUtils.py
--- yum-3.4.3-patched-orig/rpmUtils/oldUtils.py	2011-06-28 22:27:22.000000000 +0200
+++ yum-3.4.3-patched/rpmUtils/oldUtils.py	2020-03-10 08:53:58.783353060 +0100
@@ -1,4 +1,4 @@
-#!/usr/bin/python -tt
+#!/usr/bin/python2 -tt
 
 import rpm
 import types
diff -urN yum-3.4.3-patched-orig/rpmUtils/transaction.py yum-3.4.3-patched/rpmUtils/transaction.py
--- yum-3.4.3-patched-orig/rpmUtils/transaction.py	2020-03-10 08:28:25.756191463 +0100
+++ yum-3.4.3-patched/rpmUtils/transaction.py	2020-03-10 09:04:12.641820683 +0100
@@ -1,4 +1,4 @@
-#!/usr/bin/python
+#!/usr/bin/python2
 
 #
 # Client code for Update Agent
diff -urN yum-3.4.3-patched-orig/rpmUtils/updates.py yum-3.4.3-patched/rpmUtils/updates.py
--- yum-3.4.3-patched-orig/rpmUtils/updates.py	2011-06-28 22:27:22.000000000 +0200
+++ yum-3.4.3-patched/rpmUtils/updates.py	2020-03-10 08:53:58.785353068 +0100
@@ -1,4 +1,4 @@
-#!/usr/bin/python -tt
+#!/usr/bin/python2 -tt
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
 # the Free Software Foundation; either version 2 of the License, or
diff -urN yum-3.4.3-patched-orig/shell.py yum-3.4.3-patched/shell.py
--- yum-3.4.3-patched-orig/shell.py	2020-03-10 08:28:25.757191467 +0100
+++ yum-3.4.3-patched/shell.py	2020-03-10 08:53:58.718352799 +0100
@@ -1,4 +1,4 @@
-#! /usr/bin/python -tt
+#! /usr/bin/python2 -tt
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
 # the Free Software Foundation; either version 2 of the License, or
diff -urN yum-3.4.3-patched-orig/test/check-po-yes-no.py yum-3.4.3-patched/test/check-po-yes-no.py
--- yum-3.4.3-patched-orig/test/check-po-yes-no.py	2020-03-10 08:28:25.757191467 +0100
+++ yum-3.4.3-patched/test/check-po-yes-no.py	2020-03-10 08:53:58.764352984 +0100
@@ -1,4 +1,4 @@
-#! /usr/bin/python -tt
+#! /usr/bin/python2 -tt
 
 # This is a simple command to check that "Is this ok [y/N]: " and yes and no
 # have either all been translated or none have been translated.
diff -urN yum-3.4.3-patched-orig/test/rpmdb-cache.py yum-3.4.3-patched/test/rpmdb-cache.py
--- yum-3.4.3-patched-orig/test/rpmdb-cache.py	2011-06-28 22:27:22.000000000 +0200
+++ yum-3.4.3-patched/test/rpmdb-cache.py	2020-03-10 08:53:58.770353007 +0100
@@ -1,4 +1,4 @@
-#! /usr/bin/python -tt
+#! /usr/bin/python2 -tt
 
 import sys
 import yum
diff -urN yum-3.4.3-patched-orig/test/yum-leak-test.py yum-3.4.3-patched/test/yum-leak-test.py
--- yum-3.4.3-patched-orig/test/yum-leak-test.py	2020-03-10 08:28:25.758191471 +0100
+++ yum-3.4.3-patched/test/yum-leak-test.py	2020-03-10 08:53:58.772353016 +0100
@@ -1,4 +1,4 @@
-#! /usr/bin/python -tt
+#! /usr/bin/python2 -tt
 
 # Do either:
 # ./yum-leak-test.py
diff -urN yum-3.4.3-patched-orig/utils.py yum-3.4.3-patched/utils.py
--- yum-3.4.3-patched-orig/utils.py	2020-03-10 08:28:25.758191471 +0100
+++ yum-3.4.3-patched/utils.py	2020-03-10 08:53:58.780353048 +0100
@@ -1,4 +1,4 @@
-#!/usr/bin/python -t
+#!/usr/bin/python2 -t
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
 # the Free Software Foundation; either version 2 of the License, or
diff -urN yum-3.4.3-patched-orig/yum/callbacks.py yum-3.4.3-patched/yum/callbacks.py
--- yum-3.4.3-patched-orig/yum/callbacks.py	2020-03-10 08:28:25.761191483 +0100
+++ yum-3.4.3-patched/yum/callbacks.py	2020-03-10 08:53:58.736352871 +0100
@@ -1,4 +1,4 @@
-#!/usr/bin/python -tt
+#!/usr/bin/python2 -tt
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
 # the Free Software Foundation; either version 2 of the License, or
diff -urN yum-3.4.3-patched-orig/yum/comps.py yum-3.4.3-patched/yum/comps.py
--- yum-3.4.3-patched-orig/yum/comps.py	2020-03-10 08:28:25.761191483 +0100
+++ yum-3.4.3-patched/yum/comps.py	2020-03-10 08:53:58.736352871 +0100
@@ -1,4 +1,4 @@
-#! /usr/bin/python -tt
+#! /usr/bin/python2 -tt
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
 # the Free Software Foundation; either version 2 of the License, or
diff -urN yum-3.4.3-patched-orig/yum/config.py yum-3.4.3-patched/yum/config.py
--- yum-3.4.3-patched-orig/yum/config.py	2020-03-10 08:28:25.779191555 +0100
+++ yum-3.4.3-patched/yum/config.py	2020-03-10 08:53:58.733352859 +0100
@@ -1,4 +1,4 @@
-#!/usr/bin/python -t
+#!/usr/bin/python2 -t
 
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
diff -urN yum-3.4.3-patched-orig/yum/constants.py yum-3.4.3-patched/yum/constants.py
--- yum-3.4.3-patched-orig/yum/constants.py	2011-06-28 22:27:22.000000000 +0200
+++ yum-3.4.3-patched/yum/constants.py	2020-03-10 08:53:58.760352967 +0100
@@ -1,4 +1,4 @@
-#! /usr/bin/python -tt
+#! /usr/bin/python2 -tt
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
 # the Free Software Foundation; either version 2 of the License, or
diff -urN yum-3.4.3-patched-orig/yum/depsolve.py yum-3.4.3-patched/yum/depsolve.py
--- yum-3.4.3-patched-orig/yum/depsolve.py	2020-03-10 08:28:25.762191487 +0100
+++ yum-3.4.3-patched/yum/depsolve.py	2020-03-10 08:53:58.735352867 +0100
@@ -1,4 +1,4 @@
-#!/usr/bin/python -t
+#!/usr/bin/python2 -t
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
 # the Free Software Foundation; either version 2 of the License, or
diff -urN yum-3.4.3-patched-orig/yum/Errors.py yum-3.4.3-patched/yum/Errors.py
--- yum-3.4.3-patched-orig/yum/Errors.py	2020-03-10 08:28:25.759191475 +0100
+++ yum-3.4.3-patched/yum/Errors.py	2020-03-10 08:53:58.737352875 +0100
@@ -1,4 +1,4 @@
-#!/usr/bin/python -tt
+#!/usr/bin/python2 -tt
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
 # the Free Software Foundation; either version 2 of the License, or
diff -urN yum-3.4.3-patched-orig/yum/failover.py yum-3.4.3-patched/yum/failover.py
--- yum-3.4.3-patched-orig/yum/failover.py	2020-03-10 08:28:25.762191487 +0100
+++ yum-3.4.3-patched/yum/failover.py	2020-03-10 09:11:06.697487067 +0100
@@ -1,4 +1,4 @@
-#!/usr/bin/python
+#!/usr/bin/python2
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
 # the Free Software Foundation; either version 2 of the License, or
diff -urN yum-3.4.3-patched-orig/yum/history.py yum-3.4.3-patched/yum/history.py
--- yum-3.4.3-patched-orig/yum/history.py	2020-03-10 08:28:25.763191491 +0100
+++ yum-3.4.3-patched/yum/history.py	2020-03-10 08:53:58.744352903 +0100
@@ -1,4 +1,4 @@
-#!/usr/bin/python -t
+#!/usr/bin/python2 -t
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
 # the Free Software Foundation; either version 2 of the License, or
diff -urN yum-3.4.3-patched-orig/yum/i18n.py yum-3.4.3-patched/yum/i18n.py
--- yum-3.4.3-patched-orig/yum/i18n.py	2020-03-10 08:28:25.763191491 +0100
+++ yum-3.4.3-patched/yum/i18n.py	2020-03-10 08:53:58.731352851 +0100
@@ -1,4 +1,4 @@
-#!/usr/bin/python -tt
+#!/usr/bin/python2 -tt
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
 # the Free Software Foundation; either version 2 of the License, or
diff -urN yum-3.4.3-patched-orig/yum/igroups.py yum-3.4.3-patched/yum/igroups.py
--- yum-3.4.3-patched-orig/yum/igroups.py	2020-03-10 08:28:25.763191491 +0100
+++ yum-3.4.3-patched/yum/igroups.py	2020-03-10 08:53:58.759352963 +0100
@@ -1,4 +1,4 @@
-#! /usr/bin/python -tt
+#! /usr/bin/python2 -tt
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
 # the Free Software Foundation; either version 2 of the License, or
diff -urN yum-3.4.3-patched-orig/yum/__init__.py yum-3.4.3-patched/yum/__init__.py
--- yum-3.4.3-patched-orig/yum/__init__.py	2020-03-10 08:28:25.761191483 +0100
+++ yum-3.4.3-patched/yum/__init__.py	2020-03-10 08:53:58.730352847 +0100
@@ -1,4 +1,4 @@
-#!/usr/bin/python -tt
+#!/usr/bin/python2 -tt
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
 # the Free Software Foundation; either version 2 of the License, or
diff -urN yum-3.4.3-patched-orig/yum/logginglevels.py yum-3.4.3-patched/yum/logginglevels.py
--- yum-3.4.3-patched-orig/yum/logginglevels.py	2020-03-10 08:28:25.763191491 +0100
+++ yum-3.4.3-patched/yum/logginglevels.py	2020-03-10 08:53:58.745352907 +0100
@@ -1,4 +1,4 @@
-#! /usr/bin/python -tt
+#! /usr/bin/python2 -tt
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
 # the Free Software Foundation; either version 2 of the License, or
diff -urN yum-3.4.3-patched-orig/yum/mdparser.py yum-3.4.3-patched/yum/mdparser.py
--- yum-3.4.3-patched-orig/yum/mdparser.py	2020-03-10 08:28:25.763191491 +0100
+++ yum-3.4.3-patched/yum/mdparser.py	2020-03-10 08:53:58.730352847 +0100
@@ -1,4 +1,4 @@
-#! /usr/bin/python -tt
+#! /usr/bin/python2 -tt
 
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
diff -urN yum-3.4.3-patched-orig/yum/metalink.py yum-3.4.3-patched/yum/metalink.py
--- yum-3.4.3-patched-orig/yum/metalink.py	2020-03-10 08:28:25.763191491 +0100
+++ yum-3.4.3-patched/yum/metalink.py	2020-03-10 08:53:58.746352911 +0100
@@ -1,4 +1,4 @@
-#!/usr/bin/python -t
+#!/usr/bin/python2 -t
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
 # the Free Software Foundation; either version 2 of the License, or
diff -urN yum-3.4.3-patched-orig/yum/misc.py yum-3.4.3-patched/yum/misc.py
--- yum-3.4.3-patched-orig/yum/misc.py	2020-03-10 08:28:25.763191491 +0100
+++ yum-3.4.3-patched/yum/misc.py	2020-03-10 08:53:58.740352887 +0100
@@ -1,4 +1,4 @@
-#! /usr/bin/python -tt
+#! /usr/bin/python2 -tt
 """
 Assorted utility functions for yum.
 """
diff -urN yum-3.4.3-patched-orig/yum/packageSack.py yum-3.4.3-patched/yum/packageSack.py
--- yum-3.4.3-patched-orig/yum/packageSack.py	2020-03-10 08:28:25.763191491 +0100
+++ yum-3.4.3-patched/yum/packageSack.py	2020-03-10 08:53:58.745352907 +0100
@@ -1,4 +1,4 @@
-#!/usr/bin/python -tt
+#!/usr/bin/python2 -tt
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
 # the Free Software Foundation; either version 2 of the License, or
diff -urN yum-3.4.3-patched-orig/yum/packages.py yum-3.4.3-patched/yum/packages.py
--- yum-3.4.3-patched-orig/yum/packages.py	2020-03-10 08:28:25.764191495 +0100
+++ yum-3.4.3-patched/yum/packages.py	2020-03-10 08:53:58.755352947 +0100
@@ -1,4 +1,4 @@
-#!/usr/bin/python -tt
+#!/usr/bin/python2 -tt
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
 # the Free Software Foundation; either version 2 of the License, or
diff -urN yum-3.4.3-patched-orig/yum/parser.py yum-3.4.3-patched/yum/parser.py
--- yum-3.4.3-patched-orig/yum/parser.py	2020-03-10 08:28:25.764191495 +0100
+++ yum-3.4.3-patched/yum/parser.py	2020-03-10 08:53:58.749352923 +0100
@@ -1,4 +1,4 @@
-#! /usr/bin/python -tt
+#! /usr/bin/python2 -tt
 import re
 import urlparse
 import urlgrabber
diff -urN yum-3.4.3-patched-orig/yum/pgpmsg.py yum-3.4.3-patched/yum/pgpmsg.py
--- yum-3.4.3-patched-orig/yum/pgpmsg.py	2020-03-10 08:28:25.764191495 +0100
+++ yum-3.4.3-patched/yum/pgpmsg.py	2020-03-10 08:53:58.759352963 +0100
@@ -1,4 +1,4 @@
-#! /usr/bin/python -tt
+#! /usr/bin/python2 -tt
 ##Copyright (C) 2003,2005,2009  Jens B. Jorgensen <jbj1@ultraemail.net>
 ##
 ##This program is free software; you can redistribute it and/or
diff -urN yum-3.4.3-patched-orig/yum/pkgtag_db.py yum-3.4.3-patched/yum/pkgtag_db.py
--- yum-3.4.3-patched-orig/yum/pkgtag_db.py	2020-03-10 08:28:25.764191495 +0100
+++ yum-3.4.3-patched/yum/pkgtag_db.py	2020-03-10 08:53:58.719352802 +0100
@@ -1,4 +1,4 @@
-#!/usr/bin/python -tt
+#!/usr/bin/python2 -tt
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
 # the Free Software Foundation; either version 2 of the License, or
diff -urN yum-3.4.3-patched-orig/yum/plugins.py yum-3.4.3-patched/yum/plugins.py
--- yum-3.4.3-patched-orig/yum/plugins.py	2020-03-10 08:28:25.764191495 +0100
+++ yum-3.4.3-patched/yum/plugins.py	2020-03-10 08:53:58.721352811 +0100
@@ -1,4 +1,4 @@
-#! /usr/bin/python -tt
+#! /usr/bin/python2 -tt
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
 # the Free Software Foundation; either version 2 of the License, or
diff -urN yum-3.4.3-patched-orig/yum/repoMDObject.py yum-3.4.3-patched/yum/repoMDObject.py
--- yum-3.4.3-patched-orig/yum/repoMDObject.py	2020-03-10 08:28:25.765191499 +0100
+++ yum-3.4.3-patched/yum/repoMDObject.py	2020-03-10 08:53:58.750352927 +0100
@@ -1,4 +1,4 @@
-#!/usr/bin/python -tt
+#!/usr/bin/python2 -tt
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
 # the Free Software Foundation; either version 2 of the License, or
diff -urN yum-3.4.3-patched-orig/yum/repos.py yum-3.4.3-patched/yum/repos.py
--- yum-3.4.3-patched-orig/yum/repos.py	2020-03-10 08:28:25.765191499 +0100
+++ yum-3.4.3-patched/yum/repos.py	2020-03-10 08:53:58.741352891 +0100
@@ -1,4 +1,4 @@
-#!/usr/bin/python -tt
+#!/usr/bin/python2 -tt
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
 # the Free Software Foundation; either version 2 of the License, or
diff -urN yum-3.4.3-patched-orig/yum/rpmsack.py yum-3.4.3-patched/yum/rpmsack.py
--- yum-3.4.3-patched-orig/yum/rpmsack.py	2020-03-10 08:28:25.765191499 +0100
+++ yum-3.4.3-patched/yum/rpmsack.py	2020-03-10 08:53:58.752352935 +0100
@@ -1,4 +1,4 @@
-#!/usr/bin/python -tt
+#!/usr/bin/python2 -tt
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
 # the Free Software Foundation; either version 2 of the License, or
diff -urN yum-3.4.3-patched-orig/yum/rpmtrans.py yum-3.4.3-patched/yum/rpmtrans.py
--- yum-3.4.3-patched-orig/yum/rpmtrans.py	2020-03-10 08:28:25.765191499 +0100
+++ yum-3.4.3-patched/yum/rpmtrans.py	2020-03-10 08:53:58.756352951 +0100
@@ -1,4 +1,4 @@
-#!/usr/bin/python -t
+#!/usr/bin/python2 -t
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
 # the Free Software Foundation; either version 2 of the License, or
diff -urN yum-3.4.3-patched-orig/yum/sqlitesack.py yum-3.4.3-patched/yum/sqlitesack.py
--- yum-3.4.3-patched-orig/yum/sqlitesack.py	2020-03-10 08:28:25.765191499 +0100
+++ yum-3.4.3-patched/yum/sqlitesack.py	2020-03-10 08:53:58.739352883 +0100
@@ -1,4 +1,4 @@
-#!/usr/bin/python -tt
+#!/usr/bin/python2 -tt
 
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
diff -urN yum-3.4.3-patched-orig/yum/sqlutils.py yum-3.4.3-patched/yum/sqlutils.py
--- yum-3.4.3-patched-orig/yum/sqlutils.py	2020-03-10 08:28:25.765191499 +0100
+++ yum-3.4.3-patched/yum/sqlutils.py	2020-03-10 08:53:58.746352911 +0100
@@ -1,4 +1,4 @@
-#!/usr/bin/python -tt
+#!/usr/bin/python2 -tt
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of version 2 of the GNU General Public License
 # as published by the Free Software Foundation
diff -urN yum-3.4.3-patched-orig/yum/transactioninfo.py yum-3.4.3-patched/yum/transactioninfo.py
--- yum-3.4.3-patched-orig/yum/transactioninfo.py	2020-03-10 08:28:25.766191503 +0100
+++ yum-3.4.3-patched/yum/transactioninfo.py	2020-03-10 08:53:58.757352955 +0100
@@ -1,4 +1,4 @@
-#! /usr/bin/python -tt
+#! /usr/bin/python2 -tt
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
 # the Free Software Foundation; either version 2 of the License, or
diff -urN yum-3.4.3-patched-orig/yum/update_md.py yum-3.4.3-patched/yum/update_md.py
--- yum-3.4.3-patched-orig/yum/update_md.py	2020-03-10 08:28:25.766191503 +0100
+++ yum-3.4.3-patched/yum/update_md.py	2020-03-10 08:53:58.720352807 +0100
@@ -1,4 +1,4 @@
-#!/usr/bin/python -t
+#!/usr/bin/python2 -t
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
 # the Free Software Foundation; either version 2 of the License, or
diff -urN yum-3.4.3-patched-orig/yum/yumRepo.py yum-3.4.3-patched/yum/yumRepo.py
--- yum-3.4.3-patched-orig/yum/yumRepo.py	2020-03-10 08:28:25.766191503 +0100
+++ yum-3.4.3-patched/yum/yumRepo.py	2020-03-10 08:53:58.749352923 +0100
@@ -1,4 +1,4 @@
-#! /usr/bin/python -tt
+#! /usr/bin/python2 -tt
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
 # the Free Software Foundation; either version 2 of the License, or
diff -urN yum-3.4.3-patched-orig/yumcommands.py yum-3.4.3-patched/yumcommands.py
--- yum-3.4.3-patched-orig/yumcommands.py	2020-03-10 08:28:25.768191511 +0100
+++ yum-3.4.3-patched/yumcommands.py	2020-03-10 08:53:58.790353088 +0100
@@ -1,4 +1,4 @@
-#!/usr/bin/python -t
+#!/usr/bin/python2 -t
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
 # the Free Software Foundation; either version 2 of the License, or
diff -urN yum-3.4.3-patched-orig/yum-cron/yum-cron.py yum-3.4.3-patched/yum-cron/yum-cron.py
--- yum-3.4.3-patched-orig/yum-cron/yum-cron.py	2020-03-10 08:28:25.758191471 +0100
+++ yum-3.4.3-patched/yum-cron/yum-cron.py	2020-03-10 08:53:58.781353052 +0100
@@ -1,4 +1,4 @@
-#!/usr/bin/python -tt
+#!/usr/bin/python2 -tt
 import os
 import sys
 import gzip
diff -urN yum-3.4.3-patched-orig/yummain.py yum-3.4.3-patched/yummain.py
--- yum-3.4.3-patched-orig/yummain.py	2020-03-10 08:28:25.768191511 +0100
+++ yum-3.4.3-patched/yummain.py	2020-03-10 08:53:58.718352799 +0100
@@ -1,4 +1,4 @@
-#!/usr/bin/python -t
+#!/usr/bin/python2 -t
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
 # the Free Software Foundation; either version 2 of the License, or
diff -urN yum-3.4.3-patched-orig/yum.spec yum-3.4.3-patched/yum.spec
--- yum-3.4.3-patched-orig/yum.spec	2020-03-10 08:28:25.759191475 +0100
+++ yum-3.4.3-patched/yum.spec	2020-03-10 08:34:23.690630466 +0100
@@ -44,7 +44,7 @@
 
 %if %{auto_sitelib}
 
-%{!?python_sitelib: %define python_sitelib %(python -c "from distutils.sysconfig import get_python_lib; print get_python_lib()")}
+%{!?python_sitelib: %define python_sitelib %(python2 -c "from distutils.sysconfig import get_python_lib; print get_python_lib()")}
 
 %else
 %define python_sitelib /usr/lib/python?.?/site-packages
@@ -64,40 +64,51 @@
 Summary: RPM package installer/updater/manager
 Name: yum
 Version: 3.4.3
-Release: 0
+Release: 522%{?dist}
 License: GPLv2+
-Group: System Environment/Base
-Source: %{name}-%{version}.tar.gz
+Source0: http://yum.baseurl.org/download/3.4/%{name}-%{version}.tar.gz
+Source1: yum.conf.fedora
+Source2: yum-updatesd.conf.fedora
+Patch1: yum-distro-configs.patch
+Patch5: geode-arch.patch
+Patch6: yum-HEAD.patch
+Patch7: yum-ppc64-preferred.patch
+Patch20: yum-manpage-files.patch
+Patch21: yum-completion-helper.patch
+Patch22: yum-deprecated.patch
+Patch23: python2-gpg-port.patch
+Patch24: yum-nosetests2.patch
+
 URL: http://yum.baseurl.org/
 BuildArchitectures: noarch
-BuildRequires: python
+BuildRequires: python2-devel
 BuildRequires: gettext
 BuildRequires: intltool
 %if %{yum_makecache_systemd}
 BuildRequires: systemd-units
 %endif
 # This is really CheckRequires ...
-BuildRequires: python-nose
-BuildRequires: python >= 2.4
-BuildRequires: rpm-python, rpm >= 0:4.4.2
-BuildRequires: python-iniparse
-BuildRequires: python-sqlite
-BuildRequires: python-urlgrabber >= 3.9.0-8
+BuildRequires: python2-nose
+BuildRequires: python2 >= 2.4
+BuildRequires: python2-rpm, rpm >= 0:4.4.2
+BuildRequires: python2-iniparse
+BuildRequires: python2-urlgrabber >= 3.9.0-8
 BuildRequires: yum-metadata-parser >= 1.1.0
-BuildRequires: pygpgme
+BuildRequires: python2-gpg
 # End of CheckRequires
 Conflicts: pirut < 1.1.4
-Requires: python >= 2.4
-Requires: rpm-python, rpm >= 0:4.4.2
-Requires: python-iniparse
-Requires: python-sqlite
-Requires: python-urlgrabber >= 3.9.0-8
+Requires: python2 >= 2.4
+Requires: python2-rpm, rpm >= 0:4.4.2
+Requires: python2-iniparse
+Requires: python2-urlgrabber >= 3.9.0-8
+# This is needed in order to get the /usr/libexec/urlgrabber-ext-down script
+Requires: python3-urlgrabber >= 4.0.0
 Requires: yum-metadata-parser >= 1.1.0
-Requires: pygpgme
+Requires: python2-gpg
 # rawhide is >= 0.5.3-7.fc18 ... as this is added.
 Requires: pyliblzma
 # Not really a suggests anymore, due to metadata using it.
-Requires: pyxattr
+Requires: python2-pyxattr
 # Suggests, needed for yum fs diff
 Requires: diffutils
 Requires: cpio
@@ -141,7 +152,6 @@
 Provides: yum-presto = 3.4.3-66.yum
 Obsoletes: yum-plugin-security < 1.1.32
 Provides: yum-plugin-security = 3.4.3-84.yum
-BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root-%(%{__id_u} -n)
 
 
 %description
@@ -151,9 +161,8 @@
 
 %package updatesd
 Summary: Update notification daemon
-Group: Applications/System
 Requires: yum = %{version}-%{release}
-Requires: dbus-python
+Requires: python2-dbus
 Requires: pygobject2
 Requires(preun): /sbin/chkconfig
 Requires(post): /sbin/chkconfig
@@ -169,7 +178,6 @@
 
 %package cron
 Summary: RPM package installer/updater/manager cron service
-Group: System Environment/Base
 Requires: yum >= 3.4.3-84 cronie crontabs findutils
 Requires: yum-cron-BE = %{version}-%{release}
 # We'd probably like a suggests for yum-cron-daily here.
@@ -191,7 +199,6 @@
 
 %package cron-daily
 Summary: Files needed to run yum updates as a daily cron job
-Group: System Environment/Base
 Provides: yum-cron-BE = %{version}-%{release}
 Requires: yum-cron > 3.4.3-131
 
@@ -204,7 +211,6 @@
 
 %package cron-hourly
 Summary: Files needed to run yum updates as an hourly cron job
-Group: System Environment/Base
 Provides: yum-cron-BE = %{version}-%{release}
 Requires: yum-cron > 3.4.3-131
 
@@ -216,7 +222,6 @@
 
 %package cron-security
 Summary: Files needed to run security yum updates as once a day
-Group: System Environment/Base
 Provides: yum-cron-BE = %{version}-%{release}
 Requires: yum-cron > 3.4.3-131
 
@@ -233,13 +238,22 @@
 
 %prep
 %setup -q
+%patch5 -p1
+%patch6 -p1
+%patch7 -p1
+%patch20 -p1
+%patch21 -p1
+%patch22 -p1
+#%patch23 -p1
+%patch1 -p1
+%patch24 -p1
 
 %build
-make
+make PYTHON=python2
 
 %if !%{disable_check}
 %check
-make check
+make PYTHON=python2 check
 %endif
 
 
@@ -252,7 +266,7 @@
 INIT=sysv
 %endif
 
-make DESTDIR=$RPM_BUILD_ROOT UNITDIR=%{_unitdir} INIT=$INIT install
+make PYTHON=python2 DESTDIR=$RPM_BUILD_ROOT UNITDIR=%{_unitdir} INIT=$INIT install
 
 install -m 644 %{SOURCE1} $RPM_BUILD_ROOT/%{_sysconfdir}/yum.conf
 mkdir -p $RPM_BUILD_ROOT/%{_sysconfdir}/yum/pluginconf.d $RPM_BUILD_ROOT/%{yum_pluginslib}
@@ -286,8 +300,8 @@
 
 # rpmlint bogus stuff...
 chmod +x $RPM_BUILD_ROOT/%{_datadir}/yum-cli/*.py
-chmod +x $RPM_BUILD_ROOT/%{python_sitelib}/yum/*.py
-chmod +x $RPM_BUILD_ROOT/%{python_sitelib}/rpmUtils/*.py
+chmod +x $RPM_BUILD_ROOT/%{python2_sitelib}/yum/*.py
+chmod +x $RPM_BUILD_ROOT/%{python2_sitelib}/rpmUtils/*.py
 
 %find_lang %name
 
@@ -304,9 +318,6 @@
 cp -a etc/yum-makecache.timer   $RPM_BUILD_ROOT/%{_unitdir}
 %endif
 
-%clean
-[ "$RPM_BUILD_ROOT" != "/" ] && rm -rf $RPM_BUILD_ROOT
-
 
 %if %{yum_updatesd}
 %post updatesd
@@ -407,8 +418,9 @@
 %endif
 
 %files -f %{name}.lang
-%defattr(-, root, root, -)
-%doc README AUTHORS COPYING TODO ChangeLog PLUGINS
+%{!?_licensedir:%global license %%doc}
+%license COPYING
+%doc README AUTHORS TODO ChangeLog PLUGINS
 %if %{move_yum_conf_back}
 %config(noreplace) %{_sysconfdir}/yum.conf
 %dir %{_sysconfdir}/yum.repos.d
@@ -429,16 +441,17 @@
 %if %{yum_updatesd}
 %exclude %{_datadir}/yum-cli/yumupd.py*
 %endif
-%{_bindir}/yum
-%{python_sitelib}/yum
-%{python_sitelib}/rpmUtils
+%{_bindir}/yum-deprecated
+%{python2_sitelib}/yum
+%{python2_sitelib}/rpmUtils
 %dir /var/cache/yum
 %dir /var/lib/yum
 %ghost /var/lib/yum/uuid
 %ghost /var/lib/yum/history
 %ghost /var/lib/yum/plugins
 %ghost /var/lib/yum/yumdb
-%{_mandir}/man*/yum.*
+%{_mandir}/man*/yum.conf.5
+%{_mandir}/man*/yum-deprecated.8
 %{_mandir}/man*/yum-shell*
 # plugin stuff
 %dir %{_sysconfdir}/yum/pluginconf.d 
@@ -450,8 +463,8 @@
 %endif
 
 %files cron
-%defattr(-,root,root)
-%doc COPYING
+%{!?_licensedir:%global license %%doc}
+%license COPYING
 %{_sysconfdir}/cron.daily/0yum-daily.cron
 %{_sysconfdir}/cron.hourly/0yum-hourly.cron
 %config(noreplace) %{_sysconfdir}/yum/yum-cron.conf
@@ -465,23 +478,19 @@
 %{_mandir}/man*/yum-cron.*
 
 %files cron-daily
-%defattr(-,root,root)
 %{_sysconfdir}/cron.daily/0yum-daily.cron
 %config(noreplace) %{_sysconfdir}/yum/yum-cron.conf
 
 %files cron-hourly
-%defattr(-,root,root)
 %{_sysconfdir}/cron.hourly/0yum-hourly.cron
 %config(noreplace) %{_sysconfdir}/yum/yum-cron-hourly.conf
 
 %files cron-security
-%defattr(-,root,root)
 %{_sysconfdir}/cron.daily/0yum-security.cron
 %config(noreplace) %{_sysconfdir}/yum/yum-cron-security.conf
 
 %if %{yum_updatesd}
 %files updatesd
-%defattr(-, root, root)
 %config(noreplace) %{_sysconfdir}/yum/yum-updatesd.conf
 %config %{_sysconfdir}/rc.d/init.d/yum-updatesd
 %config %{_sysconfdir}/dbus-1/system.d/yum-updatesd.conf
@@ -491,331 +500,1210 @@
 %endif
 
 %changelog
-* Thu Jul 28 2011 Matthew Miller <mattdm at mattdm.org>
-- reorganize yum-cron to allow more flexible scheduling
-
-* Wed Apr 20 2011 James Antill <james at fedoraproject.org>
-- 3.4.1
-- umask bug fix.
-
-* Thu Apr 14 2011 James Antill <james at fedoraproject.org>
-- 3.4.0
-
-* Wed Jan 12 2011 Seth Vidal <skvidal at fedoraproject.org>
-- put yum-cron back into yum and make the subpkg. Thanks To Alec Habig for
-  maintaining this so well for so long.
-
-* Fri Jul 30 2010 Seth Vidal <skvidal at fedoraproject.org>
-- 3.2.28
-
-* Thu Mar 18 2010 Seth Vidal <skvidal at fedoraproject.org>
-- 3.2.27
-
-* Tue Feb  9 2010 Seth Vidal <skvidal at fedoraproject.org>
-- 3.2.26
-
-* Tue Oct 13 2009 Seth Vidal <skvidal at fedoraproject.org>
-- 3.2.25
-
-* Thu Sep  3 2009 Seth Vidal <skvidal at fedoraproject.org>
-- 3.2.24
-
-* Tue May 19 2009 Seth Vidal <skvidal at fedoraproject.org>
-- 3.2.23
-
-* Tue Mar 24 2009 Seth Vidal <skvidal at fedoraproject.org>
-- 3.2.22
-
-* Wed Jan  7 2009 Seth Vidal <skvidal at fedoraproject.org>
-- 3.2.21
-
-* Mon Oct 27 2008 Seth Vidal <skvidal at fedoraproject.org>
-- 3.2.20
-
-* Mon Aug 25 2008 Seth Vidal <skvidal at fedoraproject.org>
-- 3.2.19
-
-* Thu Aug  7 2008 Seth Vidal <skvidal at fedoraproject.org>
-- 3.2.18
-
-* Wed Jul  8 2008 Seth Vidal <skvidal at fedoraproject.org>
-- 3.2.17 
-
-* Wed May 14 2008 Seth Vidal <skvidal at fedoraproject.org>
--  3.2.16
-
-* Wed May 14 2008 Seth Vidal <skvidal at fedoraproject.org>
-- 3.2.15
-
-* Mon Apr  7 2008 Seth Vidal <skvidal at fedoraproject.org>
-- 3.2.14
-
-* Thu Mar 20 2008 Seth Vidal <skvidal at fedoraproject.org>
-- 3.2.13
-
-* Mon Mar  3 2008 Seth Vidal <skvidal at fedoraproject.org>
-- 3.2.12
-
-* Fri Feb  8 2008 Seth Vidal <skvidal at fedoraproject.org>
-- 3.2.11
-* Sun Jan 27 2008 James Bowes <jbowes@redhat.com>
-- Move the yumupd module to yum-updatesd
-
-* Sat Jan 26 2008 Tim Lauridsen <timlau at fedoraproject.org>
-- Added BuildRequires: intltool
-- Added -f %%{name}.lang to %%files
-- Added %%find_lang %%name to %%install
-* Thu Jan 24 2008 Seth Vidal <skvidal at fedoraproject.org>
-- 3.2.10
-
-* Thu Jan 24 2008 Seth Vidal <skvidal at fedoraproject.org>
-- wee 3.2.9
-
-* Wed Dec 12 2007 Seth Vidal <skvidal at fedoraproject.org>
-- add pygpgme dep for new gpg key handling
-
-* Mon Dec  3 2007 Seth Vidal <skvidal at fedoraproject.org>
-- 3.2.8
-
-* Fri Oct 12 2007 Seth Vidal <skvidal at fedoraproject.org>
-- 3.2.7
-
-* Fri Oct  5 2007 Seth Vidal <skvidal at fedoraproject.org>
-- 3.2.6
-
-* Mon Sep 10 2007 Seth Vidal <skvidal at fedoraproject.org>
-- 3.2.5
-
-* Tue Aug 28 2007 Seth Vidal <skvidal at fedoraproject.org>
-- 3.2.4
-- add python-iniparse - it's a dep here but yum will run w/o it
-
-* Fri Jul 20 2007 Seth Vidal <skvidal at fedoraproject.org>
-- 3.2.2
-
-* Thu Jun 21 2007 Seth Vidal <skvidal at fedoraproject.org>
-- 3.2.1
-
-* Wed May 16 2007 Seth Vidal <skvidal at fedoraproject.org>
-- 3.2.0
-
-* Thu Apr 26 2007 Seth Vidal <skvidal at linux.duke.edu>
-- 3.1.7
-
-* Tue Apr  3 2007 Seth Vidal <skvidal at linux.duke.edu>
-- 3.1.6
-
-* Wed Mar 21 2007 Seth Vidal <skvidal at linux.duke.edu>
-- 3.1.5
-
-* Wed Mar  7 2007 Seth Vidal <skvidal at linux.duke.edu>
-- 3.1.4
-
-* Thu Mar  1 2007 Seth Vidal <skvidal at linux.duke.edu>
-- 3.1.3
-
-* Wed Feb 14 2007 Seth Vidal <skvidal at linux.duke.edu>
-- 3.1.2
-
-* Tue Feb  6 2007 Seth Vidal <skvidal at linux.duke.edu>
-- 3.1.1
-
-* Sun Jan 21 2007 Seth Vidal <skvidal at linux.duke.edu>
-- 3.1.0 
-
-* Wed Oct  4 2006 Seth Vidal <skvidal at linux.duke.edu>
-- 3.0
-
-* Fri Sep 29 2006 Seth Vidal <skvidal at linux.duke.edu>
-- 2.9.8
-
-* Tue Sep 26 2006 Seth Vidal <skvidal at linux.duke.edu>
-- 2.9.7
-
-* Wed Sep  6 2006 Seth Vidal <skvidal at linux.duke.edu>
-- 2.9.6
-
-* Mon Aug 21 2006 Seth Vidal <skvidal at linux.duke.edu>
-- 2.9.5
-
-* Wed Aug  9 2006 Seth Vidal <skvidal at linux.duke.edu>
-- 2.9.4
-
-* Wed Jul 12 2006 Seth Vidal <skvidal at linux.duke.edu>
-- 2.9.3
+* Tue May 21 2019 Michal Domonkos <mdomonko@redhat.com.com> - 3.4.3-522
+- Add dependency on python3-urlgrabber (for /usr/libexec/urlgrabber-ext-down)
 
-* Tue Jun 27 2006 Jeremy Katz <katzj@redhat.com> 
-- add bits for yum-updatesd subpackage
+* Mon Feb 11 2019 Kevin Fenzi <kevin@scrye.com> - 3.4.3-521
+- Fix FTBFS by explicitly using python2. Fixes bug #1606775
 
-* Tue Jun 27 2006 Seth Vidal <skvidal at linux.duke.edu>
-- 2.9.2
+* Sun Feb 03 2019 Fedora Release Engineering <releng@fedoraproject.org> - 3.4.3-520
+- Rebuilt for https://fedoraproject.org/wiki/Fedora_30_Mass_Rebuild
 
-* Wed Jun 21 2006 Seth Vidal <skvidal at linux.duke.edu>
-- remove libxml2 dep
+* Sat Jul 14 2018 Fedora Release Engineering <releng@fedoraproject.org> - 3.4.3-519
+- Rebuilt for https://fedoraproject.org/wiki/Fedora_29_Mass_Rebuild
+
+* Wed May 16 2018 Valentina Mukhamedzhanova <vmukhame@redhat.com> - 3.4.3-518
+- Remove dnf-yum dependency for making DNF-3 release possible.
+
+* Wed Feb 14 2018 Iryna Shcherbina <ishcherb@redhat.com> - 3.4.3-517
+- Update Python 2 dependency declarations to new packaging standards
+  (See https://fedoraproject.org/wiki/FinalizingFedoraSwitchtoPython3)
+
+* Fri Feb 09 2018 Igor Gnatenko <ignatenkobrain@fedoraproject.org> - 3.4.3-516
+- Escape macros in %%changelog
+
+* Thu Aug 17 2017 Valentina Mukhamedzhanova <vmukhame@redhat.com> - 3.4.3-515
+-  Really skip all gpg-agent files.
+
+* Thu Aug 17 2017 Valentina Mukhamedzhanova <vmukhame@redhat.com> - 3.4.3-514
+- Port to python2-gpg.
+
+* Thu Jul 27 2017 Fedora Release Engineering <releng@fedoraproject.org> - 3.4.3-513
+- Rebuilt for https://fedoraproject.org/wiki/Fedora_27_Mass_Rebuild
+
+* Sat Feb 11 2017 Fedora Release Engineering <releng@fedoraproject.org> - 3.4.3-512
+- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild
+
+* Tue Sep 13 2016 Valentina Mukhamedzhanova <vmukhame@redhat.com> - 3.4.3-511
+- Stop requiring python-sqlite.
+
+* Tue Jul 19 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 3.4.3-510
+- https://fedoraproject.org/wiki/Changes/Automatic_Provides_for_Python_RPM_Packages
+
+* Fri Feb 05 2016 Fedora Release Engineering <releng@fedoraproject.org> - 3.4.3-509
+- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild
+
+* Sun Aug  9 2015 James Antill <james at fedoraproject.org> - 3.4.3-508
+- Add weak deps. support.
+- Add cashe support for fs diff.
+
+* Fri Jun 19 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 3.4.3-507
+- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild
+
+* Wed Apr  8 2015 Valentina Mukhamedzhanova <vmukhame@redhat.com> - 3.4.3-506
+- Drop dnf-plugins-extras-migrate requirement.
+
+* Tue Mar 31 2015 Valentina Mukhamedzhanova <vmukhame@redhat.com> - 3.4.3-505
+- update to latest HEAD
+- Make sure epoch is a string while checking for running kernel. BZ#1200159
+- Fix rounding issue in required disk space message.
+- Rename yum executable to yum-deprecated.
+
+* Thu Mar 12 2015 James Antill <james at fedoraproject.org> - 3.4.3-157
+- Hacky fix for recursion problem with cashe. BZ#1199315
+
+* Wed Mar  4 2015 James Antill <james at fedoraproject.org> - 3.4.3-156
+- update to latest HEAD
+- Have "yum check" ignore self conflicts.
+- Add simple testcase for installing older intermediate kernel. BZ 1063181.
+- Don't look for upgrades for install only packages. BZ 1063181.
+- check if repos list is empty after excluding disabled repos. BZ 1109473.
+- Allow caching local repos. BZ 1125387.
+- Expect KB as well as MB in disk requirements message from rpm. BZ 1051931.
+- Multiple lvm fixes. BZ 1047793, BZ 1145485.
+- Change the sqlite synchronous mode for the history file, to NORMAL.
+- Add CAShe config. and objects, use it for MD and packages.
+- Add query_install_excludes conf./docs and use it for list/info/search/prov
+
+* Tue Sep 16 2014 James Antill <james at fedoraproject.org> - 3.4.3-155
+- update to latest HEAD
+- Workaround history searching for [abc] character lists failures. BZ 1096147.
+- yumRepos.py - preserve queryparams in urls
+- Don't traceback in exRepoError() when repo info is not available. BZ 1114183.
+- Make check-update respect --quiet option. BZ 1133979.
+
+* Wed Sep  3 2014 Valentina Mukhamedzhanova <vmukhame@redhat.com> - 3.4.3-154
+- update to latest HEAD
+- Add armv6hl.
+- Fix removing installed obsoleted package. BZ 1135715.
+
+* Wed Aug  6 2014 Tom Callaway <spot@fedoraproject.org> - 3.4.3-153
+- fix license handling
+
+* Wed Jun 18 2014 James Antill <james at fedoraproject.org> - 3.4.3-152
+- update to latest HEAD
+- Workaround the TypeError in _filter_deps(). BZ 1108625
+
+* Mon Jun 16 2014 James Antill <james at fedoraproject.org> - 3.4.3-151
+- update to latest HEAD
+- Read FS yumvars before yum.conf setup, and reread if installroot changed.
+- Call systemd Inhibit, to inhibit shutdowns during transactions. BZ 1109930.
+- Have check provides check directly against the rpm index, and then quit.
+- Read env vars in readStartupConfig() to make them work in yum.conf. BZ 1102575
+- Add rules for naming files in /etc/yum/vars to yum.conf man page.
+
+* Sat Jun 07 2014 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 3.4.3-149
+- Rebuilt for https://fedoraproject.org/wiki/Fedora_21_Mass_Rebuild
+
+* Wed May 21 2014 James Antill <james at fedoraproject.org> - 3.4.3-148
+- update to latest HEAD
+- Check /usr for writability before running a transaction.
+- Add repo= arguments to almost all RepoError raises, so we don't print unknown.
+- Add/fix upgrade-minimal typos from man page.
+- Replace vars in include lines in .repo files. BZ 977380.
+- Make --setopt handle spaces properly. BZ 1094373
+- Fix traceback when the history dir is empty. BZ 875610
+
+* Tue Apr 15 2014 James Antill <james at fedoraproject.org> - 3.4.3-146
+- update to latest HEAD
+- Fix for weird anaconda C NULL exception traceback. BZ 1058297.
+- Add bash completion for fs.
+- Fix summary for yum fs command. BZ 1086461.
+
+* Tue Apr  8 2014 James Antill <james at fedoraproject.org> - 3.4.3-145
+- update to latest HEAD
+- Fix for weird anaconda C NULL exception traceback. BZ 1058297.
+- Fix apkgs setup for removing packages. BZ 1019960.
+- Fix typo, so we can find the suggests/etc. tables.
+- Change 'size' option to 'maxsize' in yum.logrotate. BZ 1005879.
+- Mask st_mode to fix verifying permissions for ghost files. BZ 1045415.
+- normpath() file URIs. BZ 1009499.
+
+* Tue Mar 25 2014 James Antill <james at fedoraproject.org> - 3.4.3-144
+- update to latest HEAD
+- Fix dumping xml for suggests/etc.
+
+* Mon Mar 24 2014 James Antill <james at fedoraproject.org> - 3.4.3-143
+- update to latest HEAD
+- Fix storing objects directly in the yumdb.
+- Don't store uuid as var_uuid, or we create it all the time.
+
+* Mon Mar 24 2014 James Antill <james at fedoraproject.org> - 3.4.3-142
+- update to latest HEAD
+- No error for refilter cleanup, rm dirs. and eat all errors. BZ 1062959.
+- Use get_uuid_obj() instead of get_uuid(), to help out ostree.
+- Make utils.get_process_info() respect executable names with spaces.
+- Fix traceback when history files don't exist and user is not root.
+
+* Mon Mar 10 2014 Valentina Mukhamedzhanova <vmukhame@redhat.com> - 3.4.3-141
+- update to latest HEAD
+- Fix repo-pkgs check-update not showing any updates.
+- Fix ValueError when /var/lib/yum/groups/installed is empty. BZ 971307
+- Fix 'yum updateinfo list all new-packages' traceback. BZ 1072945
+- Make yum quit when an invalid option is provided with --setopt.
+
+* Sun Feb 23 2014 James Antill <james at fedoraproject.org> - 3.4.3-140
+- update to latest HEAD
+- Fix yum.conf file saving for filters.
+
+* Fri Feb 21 2014 James Antill <james at fedoraproject.org> - 3.4.3-139
+- update to latest HEAD
+- Copy packages in/out of an installroot, for no downloads creating containers.
+- A few cleanups for the fs sub-command UI.
+- Add spec requires for fs sub-command.
+
+* Tue Feb 18 2014 James Antill <james at fedoraproject.org> - 3.4.3-138
+- update to latest HEAD
+- Workaround for weird mash issue, probably.
+
+* Mon Feb 17 2014 Valentina Mukhamedzhanova <vmukhame@redhat.com> - 3.4.3-137
+- update to latest HEAD
+- Fix debuginfo-install doLock() traceback. BZ 1062479
+- Add 'autoremove' to yum --help output. BZ 1053348
+
+* Fri Feb 14 2014 James Antill <james at fedoraproject.org> - 3.4.3-136
+- update to latest HEAD
+- Minor fixes/cleanups for yum fs diff.
+- Fix update-minimal traceback and ignoring updates. BZ 1048584.
+
+* Wed Feb 12 2014 James Antill <james at fedoraproject.org> - 3.4.3-135
+- update to latest HEAD
+- Add yum fs sub-command. filter/refilter/refilter-cleanup/du/status/diff.
+- Fix a possible "yum history stats" tb. BZ 1059184.
+- Use requirement instead of calling string_to_prco_tuple.
+- ppc64le is its own arch treat it as such.
+
+* Wed Jan 29 2014 James Antill <james at fedoraproject.org> - 3.4.3-134
+- update to latest HEAD
+- Add yum-cron to run_with_package_names.
+- Don't create lockdir directories, as they are magic now. BZ 975864.
+-  Make 'yum install @group' give an error when trying to install a
+- non-existent group.
+- One more s/ouput/output/ fix
+- Cleanup spec for rhel-7 builds.
+
+* Thu Jan 23 2014 James Antill <james at fedoraproject.org> - 3.4.3-133
+- update to latest HEAD
+- Test for lvm binary before using. BZ 1047793.
+- Split cron-daily and cron-hourly into separate packages. Add cron-security.
+
+* Wed Jan 22 2014 Valentina Mukhamedzhanova <vmukhame@redhat.com> - 3.4.3-132
+- yum-cron: EmailEmitter failure should not be fatal. BZ 1055042
+- yum-cron: Add a retry loop around doLock().
+- _set_repos_cache_req(): Handle missing cachedir. BZ 1044080
+- repo-pkgs: Fix repoid parsing. BZ 1055132.
+- Fix bash completion for 'autoremove'
+- downloadonly: unlink .tmp files on ctrl-c. BZ 1045806
+- repo-pkgs <repoid> info|list shouldn't require root UID.
+- doPackageLists(repoid=<repoid>): filter 2nd ipkg lookup. BZ 1056489
+
+* Thu Jan 16 2014 Ville Skyttä <ville.skytta@iki.fi> - 3.4.3-131
+- Drop INSTALL from docs.
+
+* Wed Jan 15 2014 Zdenek Pavlas <zpavlas@redhat.com> - 3.4.3-130
+- update to latest HEAD
+- fix "yum --help" with translated "Usage: %%s\n". BZ 1033416
+- completion: Fix file/dir completions for names containing spaces or tabs
+- Fixed yum.8 manpage formatting. BZ 1050902
+- yum-cron: fail on unsigned packages. BZ 1052440
+- yum-cron: enable random_sleep by default.
+
+* Tue Jan 7 2014 Valentina Mukhamedzhanova <vmukhame@redhat.com> - 3.4.3-129
+- update to latest HEAD
+- Skip unavailable repos. BZ 1046076
+- docs: yum.conf.5: Fix typo.
+- docs: Update --downloadonly section of man page.
+- Change emitCheckFailed() to a warning. BZ 1048391
+
+* Thu Dec 19 2013 James Antill <james at fedoraproject.org> - 3.4.3-128
+- update to latest HEAD
+- Fix for traceback with group info -v.
+
+* Wed Dec 18 2013 James Antill <james at fedoraproject.org> - 3.4.3-127
+- update to latest HEAD
+- Fix for traceback with installed env. groups with owned groups in info.
+- Again, thanks to Adam.
+
+* Wed Dec 18 2013 James Antill <james at fedoraproject.org> - 3.4.3-126
+- update to latest HEAD
+- Fixes for typo in group remove/install mark messages tests.
+- Again, thanks to Adam.
+
+* Tue Dec 17 2013 James Antill <james at fedoraproject.org> - 3.4.3-125
+- update to latest HEAD
+- Again, lots of groups UI changes/fixes thanks to Adam.
+- Add "groups mark blacklist" command to get out of the upgrade problem.
+- Tell users how to mark install/remove groups without packages.
+- Show install groups as well as upgrading groups in transaction output.
+- Fix mark-convert-whitelist, and add mark-convert-blacklist (default).
+- Fix typo with simple groups compile of environment with only options.
+- Pass the ievgrp to groups for new installed envs., so they belong. BZ 1043231.
+- Don't confuse "group info" output by giving data for optional when it's off.
+
+* Tue Dec 17 2013 James Antill <james at fedoraproject.org> - 3.4.3-124
+- update to latest HEAD
+- Fix group update not trying to install all optional groups of evgrp.
+
+* Mon Dec 16 2013 James Antill <james at fedoraproject.org> - 3.4.3-123
+- update to latest HEAD
+- Lots of "minor" group changes to hopefully fix a bunch of the bugs. Eg.
+- 1043207, 1014202.
+
+* Fri Dec 13 2013 Zdenek Pavlas <zpavlas@redhat.com> - 3.4.3-122
+- update to latest HEAD
+- use the same "Total" formatting as urlgrabber.progress
+- fix the depsolve_loop_limit=0 case. BZ 1041395
+- yum.bash: skip pkglist completion when len(prefix) < 1. BZ 1040033
+- yum-cron: stderr/email: no output if no messages. BZ 1018068
+- yum-cron: use YumOutput.listTransaction(). BZ 1040109
+
+* Fri Dec  6 2013 James Antill <james at fedoraproject.org> - 3.4.3-121
+- Fix cacheReq manipulation overwrite.
+- Only look at enabled repos. for cacheReq cookie comparisons. BZ 1039028.
+- Add check-update sub-command to repo-pkgs.
+- Add command variation aliases to check-update.
+- Fix needTs check with repo-pkgs list/info.
+
+* Fri Dec  6 2013 Zdenek Pavlas <zpavlas@redhat.com> - 3.4.3-120
+- Revert the use of float timestamps as it triggers repomd != metalink.
+
+* Wed Dec  4 2013 Zdenek Pavlas <zpavlas@redhat.com> - 3.4.3-119
+- docs only: group_command=objects is the distro default.
+- Parse float timestamps as valid, for global timestamp.
+- Add check_config_file_age, so we can turn that off for rhsm repos. BZ 103544
+- Better doc. comment for re_primary_filename().
+
+* Thu Nov 21 2013 James Antill <james at fedoraproject.org> - 3.4.3-118
+- Update to latest HEAD.
+- Don't use the provide for distroverpkg if it's the name of the pkg. BZ 1002977.
+- Use the provides as-is when we do use it. BZ 1002977.
+- Fix the man page formatting for ! explanation in repolist, so it can be read.
+- Add deltarpm_metadata_percentage config. so people can configure MD download.
+
+* Tue Nov 19 2013 James Antill <james at fedoraproject.org> - 3.4.3-117
+- Update to latest HEAD.
+- Fix autocheck_running_kernel config.
+
+* Mon Nov 18 2013 James Antill <james at fedoraproject.org> - 3.4.3-116
+- Update to latest HEAD.
+- Add installed for groups pkg. lists on transaction output. BZ 1031374.
+- Add autocheck_running_kernel config. so people can turn it off.
+- Add upgrade_group_objects_upgrade config. so people can turn it off.
+- Add distupgrade command as alias for distro-sync, to be compat. with zypper.
+
+* Fri Nov 15 2013 James Antill <james at fedoraproject.org> - 3.4.3-115
+- Update to latest HEAD.
+- Use makecache systemd timer on f20, maybe use it on f19 too?
+- installonlypkgs: remove unneeded provides, add "installonlypkg(kernel)"
+- docs: Suggest "--" when using "-<pkg>" to exclude packages. BZ 1026598.
+- applydeltarpm: turn fork() failure to MiscError. BZ 1028334.
+
+* Sun Nov 10 2013 James Antill <james at fedoraproject.org> - 3.4.3-114
+- Update to latest HEAD.
+- Fixup always turning cron/makecache systemd stuff off.
+- _readRawRepoFile: return only valid (ini, section_id). BZ 1018795.
+- Same-mirror retry on refused connections. Helps BZ 853432.
+
+* Thu Oct 31 2013 James Antill <james at fedoraproject.org> - 3.4.3-113
+- Update to latest HEAD.
+- Mostly backwards compat. change to how distroverpkg config. works. BZ 1002977.
+
+* Wed Oct 30 2013 James Antill <james at fedoraproject.org> - 3.4.3-112
+- Update to latest HEAD.
+- Actually run the groups update config. when not in objects mode. BZ 1002439.
+- Implement pkg.remote_url for YumLocalPackage. BZ 1016148.
+- UpdateNotice.xml(): sanitize pkg['epoch']. BZ 1020540.
+- yum-cron: support download/install with update_messages==False. BZ 1018068.
+- Fix some bugs in setopt for repo config. entries. BZ 1023595.
+- Add loop limit for depsolving. BZ 1017840.
+- Add yum-makecache systemd service, force network updates on for better UI.
+
+* Mon Oct  7 2013 James Antill <james at fedoraproject.org> - 3.4.3-111
+- Update to latest HEAD.
+- More reliable po.localpath file:// URL test. BZ 1004089
+- Disable drpms for local repositories. BZ 1007097
+- docs: fix formatting of "yum swap" examples. BZ 1009154
+- Move disableplugin checks to before we load the conf/module
+- Set repo_error.repo attr also when filelists DL fails
+- Fix the "repo failed" message
+- docs: update "yum check" extra args description. BZ 1014993
+- unlink_f(): handle ENOENT, EPERM, EACCES, EROFS. BZ 1015647, BZ 975619
+
+* Fri Sep  6 2013 James Antill <james at fedoraproject.org> - 3.4.3-110
+- Update to latest HEAD.
+- Add cache check to repolist, using "!". Document repoinfo.
+- Add epoch to updateinfo xml output.
+- Add missing translation hooks for ignored -c option message.
+- Try to smooth out the edge cases for cacheReq not ever updating data.
+
+* Wed Sep  4 2013 James Antill <james at fedoraproject.org> - 3.4.3-109
+- Update to latest HEAD.
+- update /etc/yum-cron-hourly.conf. BZ 1002623
+- Tweak y-c-t and history redo msg. BZ 974576.
+- docs: $arch does not map 1:1 to uname(2) arch. BZ 1003554
+- checkMD: re-check when xattr matches but size==0. BZ 1002494
+
+* Wed Aug 28 2013 James Antill <james at fedoraproject.org> - 3.4.3-108
+- Update to latest HEAD.
+- Use new comps. mock objects to re-integrate group removal. BZ 996866.
+- Add "weak" comps. groups, for installed groups.
+- Add msg. to help users deal with RepoError failures. BZ 867389.
+- Give msgs about install/trans. obsoletes a higher priority. BZ 991080.
+- waitForLock() raises YumBaseError. BZ 1001154.
+
+* Sun Aug 25 2013 James Antill <james at fedoraproject.org> - 3.4.3-107
+- Update to latest HEAD.
+- Pass requirement to compare_proviers so we can use provides version compare.
+- Show conf. file in yum-cron error message.
+- Add mark convert messages.
+- Fix logging level regression, -d9 works again.
+- Override users umask for groups files, so users can read it. BZ 982361.
+- Fix downgrade keeping .reason, note that remove+install doesn't. BZ 961938.
+- Inherit reason from install package into txmbr. BZ BZ 961938.
+
+* Tue Aug 13 2013 Zdenek Pavlas <zpavlas@redhat.com> - 3.4.3-106
+- Update to latest HEAD.
+- deltarpm: _wait(block=True) should not wait for all running jobs. BZ 991694
+- make mdpolicy=group:small default, add group and pkgtags. BZ 989231
+
+* Tue Aug  6 2013 Zdenek Pavlas <zpavlas@redhat.com> - 3.4.3-105
+- Update to latest HEAD.
+- yum-cron: smtp-compliant email_from default. BZ 982696
+- Add a "--disableincludes" option to yum. BZ 911422
+- yum-cron: override the default stdout codec.  BZ 992797
+- docs: fix spelling. BZ 991702
+- fix file:// repository && downloadonly. BZ 903294, BZ 993567
+
+* Tue Jul 30 2013 Zdenek Pavlas <zpavlas@redhat.com> - 3.4.3-104
+- Update to latest HEAD.
+- yum-cron: use [base] section
+- yum-cron: fix the download but don't appy updates case. BZ 983076
+- group install/update: handle "No Groups Available" exception. BZ 983010
+- misc.decompress(): handle OSError, too. BZ 989948
+
+* Thu Jul 18 2013 Zdenek Pavlas <zpavlas@redhat.com> - 3.4.3-103
+- Added debuglevel option to yum-cron.conf BZ 873428, 982088
+- RepoMD: support loading/dumping of <delta>s.
+
+* Thu Jul 18 2013 Zdenek Pavlas <zpavlas@redhat.com> - 3.4.3-102
+- Preload from root cache when --cacheonly. BZ 830523, 903631
+
+* Tue Jul 16 2013 Zdenek Pavlas <zpavlas@redhat.com> - 3.4.3-101
+- Update to latest HEAD.
+- Get correct rpmdb path from rpm configuration
+- repoMDObject.dump_xml() "distro" tag fix
+- Fix parsing of power7+ platform string. BZ 980275
+- findRepos: handle re.compile() errors. BZ 984356
+- updatesObsoletesList: add repoid arg. BZ 984297
+
+* Tue Jul  9 2013 Zdenek Pavlas <zpavlas@redhat.com> - 3.4.3-100
+- Update to latest HEAD.
+- Pass arch of package to applydeltarpm. BZ 981314.
+- Simple "import sys" fix. BZ 875228
+- Clean up new files when reverting to old repomd.xml
+
+* Mon Jun 24 2013 James Antill <james at fedoraproject.org> - 3.4.3-99
+- Update to latest HEAD.
+- Fix igroups not being reset in "ts reset" and anaconda. BZ 924162.
+- Check for bad checksum types at runtime. BZ 902357.
+- fix --cacheonly edge case. BZ 975619.
+
+* Wed Jun 19 2013 James Antill <james at fedoraproject.org> - 3.4.3-98
+- Update to latest HEAD.
+- Add simple way to specify a group of pkgs. for version. BZ 913461.
+- Change group install => group upgrade for installed groups. BZ 833087.
+- Give more text when telling user about y-c-t, mention history. BZ 974576.
+- Fix the tolerant yum.conf text.
+- Skip installonly limit, if something has set check_future_rpmdbv. BZ 962757.
+
+* Mon Jun 17 2013 James Antill <james at fedoraproject.org> - 3.4.3-97
+- Update to latest HEAD.
+- Minor updates to fssnapshot command.
+- metalink: Don't assume maxconnections is always set. BZ 974826.
+- DeltaPackage: provide returnIdSum(). BZ 974394.
+
+* Fri Jun 14 2013 James Antill <james at fedoraproject.org> - 3.4.3-96
+- Update to latest HEAD.
+- Add real logging to updateinfo parsing.
+- Merge fssnap command.
+- Extend repos.findRepos() API so it can handle repolist input.
+- Add a prelistenabledrepos plugin point.
+- Auto. enable disabled repos. in repo-pkgs.
+- Do cacheRequirement() tests before doCheck().
+
+* Fri Jun 14 2013 Zdenek Pavlas <zpavlas@redhat.com> - 3.4.3-95
+- DeltaPackage compat fix. BZ 974394
+
+* Wed Jun 12 2013 Zdenek Pavlas <zpavlas@redhat.com> - 3.4.3-94
+- Update to latest HEAD.
+- downloadonly: prefetch also pkg checksums. BZ 973380
+- Fix superfluous dots after "via" in man pages. BZ 972764
+- support "proxy = libproxy" syntax to enable libproxy. BZ 857263
+- checkEnabledRepo: run prereposetup if necessary. BZ 826096
+
+* Mon Jun  3 2013 James Antill <james at fedoraproject.org> - 3.4.3-93
+- update to latest HEAD.
+- Workaround anaconda passing None as group name. BZ 959710.
+- Fix second part of igrp as grp problems. BZ 955236.
+- Add a fuzzy matcher for numbers in format_missing_requires. BZ 718245.
+- Hide the "downloadonly" option when nothing to download.
+- Add the "minrate" option. BZ 964298
+
+* Tue May 21 2013 James Antill <james at fedoraproject.org> - 3.4.3-92
+- update to latest HEAD.
+- returnPackagesByDep() API fix (really old break).
+- Try to make groups conversion better.
+- progress.start: supply the default filename & url.  BZ 963023
+- drpm retry: add RPM sizes to total size.  BZ 959786
+- YumBaseError: safe str(e).  BZ 963698
+
+* Mon May 13 2013 Zdenek Pavlas <zpavlas@redhat.com> - 3.4.3-91
+- same-mirror retry also on timeout.  BZ 853432
+
+* Wed May  8 2013 James Antill <james at fedoraproject.org> - 3.4.3-90
+- Massive hack for Fedora/updateinfo stable vs. testing statuses. BZ 960642.
+- Don't load updateinfo when we don't have to.
+- Tell which repo. we are skipping the updateinfo notice from.
+- Compat. code so we can treat groups/igroups the same. BZ 955236.
+- Don't highlight the empty space, Eg. --showdups list.
+
+* Thu May  2 2013 Bill Nottingham <notting@redhat.com> - 3.4.3-89
+- Fix defaults-for-environment optional groups change. BZ 958531
+
+* Tue Apr 30 2013 James Antill <james at fedoraproject.org> - 3.4.3-88
+- update to latest HEAD.
+- Allow default on Environment optional groups.
+- Tweak load-ts output.
+
+* Fri Apr 26 2013 James Antill <james at fedoraproject.org> - 3.4.3-87
+- update to latest HEAD.
+- Make --downloadonly skip userconfirm prompt.
+- Turn metadata_expire off for yum-cron.
+- Skip var_arch storage in yumdb.
+
+* Tue Apr 23 2013 James Antill <james at fedoraproject.org> - 3.4.3-86
+- update to latest HEAD.
+- A fix for environments and not installed groups. BZ 928859.
+- Add downloadonly option to download prompt.
+
+* Fri Apr 19 2013 James Antill <james at fedoraproject.org> - 3.4.3-85
+- update to latest HEAD.
+- A couple of fixes for yum-cron using security.
+- Add documentation for updateinfo merge.
+
+* Thu Apr 18 2013 James Antill <james at fedoraproject.org> - 3.4.3-84
+- update to latest HEAD.
+- Move yum-security into core.
+- A bunch of minor fixes for yum-cron.
+- Update yum-cron to add security/minimal/etc. updates.
+- Add socks support to proxy config.
+
+* Tue Apr 16 2013 Zdenek Pavlas <zpavlas@redhat.com> - 3.4.3-83
+- update to latest HEAD.
+- Update yum-cron to make it worthwhile on Fedora.
+- Fix the installed/depinstalled split.  BZ 952162
+- rebuilding deltarpms: fix the callback==None case. BZ 952357
+- Reuse mirrors when max_retries > len(mirrors).  BZ 765598
+
+* Thu Apr  4 2013 James Antill <james at fedoraproject.org> - 3.4.3-82
+- update to latest HEAD.
+- Keep installedFileRequires in sync. BZ 920758.
+- Add repo-pkgs upgrade-to.
+- Document autoremove commands.
+
+* Thu Mar 28 2013 James Antill <james at fedoraproject.org> - 3.4.3-81
+- update to latest HEAD.
+- Fix optional packages getting installed by default. BZ 923547.
+- cacheReq() added to groups command.
+- Finally fix the installed obsoletes problem.
+- Sync specfiles.
+- Turn checking on, and fix check-po script.
+
+* Wed Mar 27 2013 Zdenek Pavlas <zpavlas@redhat.com> - 3.4.3-80
+- package also %%{compdir}'s parent
+- set correct dir when bytecompiling /usr/share/yum-cli
+- add fast package name completion (disabled by default)
+
+* Wed Mar 20 2013 Zdenek Pavlas <zpavlas@redhat.com> - 3.4.3-79
+- add BuildRequires: bash-completion
+
+* Wed Mar 20 2013 Zdenek Pavlas <zpavlas@redhat.com> - 3.4.3-78
+- update to latest HEAD.
+- add bash-completion aliases, use pkg-config.
+- spelling fixes
+
+* Tue Mar 19 2013 Zdenek Pavlas <zpavlas@redhat.com> - 3.4.3-77
+- move bash-completion scripts to /usr/share/  BZ 922992
+
+* Tue Mar 12 2013 James Antill <james at fedoraproject.org> - 3.4.3-76
+- Change groups_command default to objects.
+- update to latest HEAD.
+- Add timestamp to transaction object for plugins etc.
+
+* Mon Mar 11 2013 James Antill <james at fedoraproject.org> - 3.4.3-75
+- update to latest HEAD.
+- Fix deltarpm=0.
+- Fix double unlink. BZ 919657.
+
+* Fri Mar  8 2013 James Antill <james at fedoraproject.org> - 3.4.3-74
+- update to latest HEAD.
+- Fix obsoletes in "yum check".
+- Drop drpm rebuild defaults back to 2 workers.
+
+* Thu Mar  7 2013 James Antill <james at fedoraproject.org> - 3.4.3-73
+- update to latest HEAD.
+- Queue for drpm rebuilding.
+- Sort drpms.
+
+* Wed Mar  6 2013 James Antill <james at fedoraproject.org> - 3.4.3-72
+- update to latest HEAD.
+- Translation updates.
+- Smarter selection of drpm candidates.
+- "makecache fast".
+- Minor updates.
+
+* Fri Mar  1 2013 James Antill <james at fedoraproject.org> - 3.4.3-70
+- update to latest HEAD.
+- Reimport the size calculation fix.
+
+* Thu Feb 28 2013 James Antill <james at fedoraproject.org> - 3.4.3-69
+- drpm: Fix getDiscNum() sorting bug. BZ 916675.
+- Move to just dumping upstream HEAD again.
+
+* Thu Feb 28 2013 Zdeněk Pavlas <zpavlas@redhat.com> - 3.4.3-67
+- drpm: fixed the yum._up==None case.
+- drpm: repo_gen_decompress() to handle all comp types.
+
+* Wed Feb 27 2013 Zdeněk Pavlas <zpavlas@redhat.com> - 3.4.3-66
+- fixed getDiscNum bug
+- fixed rpmsize calculation
+- obsoleted yum-presto plugin
+
+* Tue Feb 26 2013 Zdeněk Pavlas <zpavlas@redhat.com> - 3.4.3-65
+- start downloading drpms before rpms
+- deactivate presto if deltarpm package is not installed
+- rename "presto" option to "deltarpm".
+- new DeltaPO class instead of in-place rpm=>drpm patching.
+
+* Fri Feb 22 2013 Zdeněk Pavlas <zpavlas@redhat.com> - 3.4.3-64
+- use multiple applydeltarpm workers (4 by default)
+
+* Thu Feb 21 2013 Zdeněk Pavlas <zpavlas@redhat.com> - 3.4.3-63
+- Added native drpm support.
+
+* Tue Feb 19 2013 James Antill <james at fedoraproject.org> - 3.4.3-62
+- update to latest HEAD.
+- Add cache-reqs.
+- Fixup specfile for Fedora <= 18 usage.
+
+* Mon Feb 18 2013 James Antill <james at fedoraproject.org> - 3.4.3-60
+- update to latest HEAD.
+- Auto expire caches on repo errors.
+- Use xattrs for cache checksum speedup.
+
+* Fri Feb 15 2013 James Antill <james at fedoraproject.org> - 3.4.3-59
+- update to latest HEAD.
+- Add load-ts helper.
+- Update downloadonly plugin version obs.
+
+* Fri Feb  8 2013 James Antill <james at fedoraproject.org> - 3.4.3-58
+- update to latest HEAD.
+- Add pyxattr require for origin_urls for everyone.
+- Fix yum-cron service file and scriptlets.
+- Fix instant broken mirrors problem.
+
+* Thu Jan 31 2013 James Antill <james at fedoraproject.org> - 3.4.3-57
+- update to latest HEAD.
+- Fix autoremove foo.
+- Speedup/fix repo-pkgs <foo> update with obsoletes.
+
+* Wed Jan 30 2013 James Antill <james at fedoraproject.org> - 3.4.3-56
+- update to latest HEAD.
+- Add yumvar dumping into yumdb.
+- Add ui_repoid_vars configuration.
+- Update translations.
+
+* Tue Jan 22 2013 James Antill <james at fedoraproject.org> - 3.4.3-55
+- update to latest HEAD.
+- Add repo-pkgs update/list and tweak remove-or-sync.
+
+* Mon Jan 21 2013 James Antill <james at fedoraproject.org> - 3.4.3-54
+- update to latest HEAD.
+- Add repo-pkgs docs. add erase/etc. aliases.
+- Fix for 895854.
+
+* Wed Jan 16 2013 James Antill <james at fedoraproject.org> - 3.4.3-53
+- update to latest HEAD.
+- Add repo-pkgs.
+- Add swap.
+- Add remove_leaf_only and repopkgremove_leaf_only.
+- Add metadata_expire_filter.
+
+* Tue Jan 15 2013 Zdeněk Pavlas <zpavlas@redhat.com> - 3.4.3-52
+- update to latest HEAD
+- _lock(): yet another exception2msg fix.  BZ 895060
+- use yum-cron.service.  BZ 893593
+- YumRepo.populate(): always decompresses new database
+
+* Wed Jan  9 2013 Zdeněk Pavlas <zpavlas@redhat.com> - 3.4.3-51
+- update to latest HEAD
+- Include langpacks when reading and writing comps. BZ 879030
+- selectGroup(): Fix a typo. BZ 885139
+- move the basename checking into _repos.doSetup(). BZ 885159
+- bash completion: offer nvra for multi-install packages
+- fixes extra '</pkglist>' tags on multi-collection errata. BZ 887407
+- Include the update date in updateinfo xml. BZ 887935
+- Complete provides/whatprovides with filenames. BZ 891561
+- New locking code.  BZ 865601
+
+* Thu Dec 06 2012 Zdeněk Pavlas <zpavlas@redhat.com> - 3.4.3-50
+- update to latest HEAD.
+- Check for possible inf. recursion and workaround in skip-broken. BZ 874065
+- Don't error in history list, when we have no history. BZ 802462
+- Avoid converting to unicode and back in dump_xml_*.  BZ 716235
+- po.xml_dump_{primary,filelists,other}_metadata() cleanup
+
+* Wed Nov 28 2012 Zdenek Pavlas  <zpavlas@redhat.com> - 3.4.3-49
+- update to latest HEAD.
+- Fix ugly paths in po.xml_dump_*(). BZ 835565.
+- Fix yum-cron requires.
+
+* Mon Nov 19 2012 Zdenek Pavlas  <zpavlas@redhat.com> - 3.4.3-48
+- update to latest HEAD.
+- add skip-broken option to yum-cron.
+- get rid of bogus "Downloaded package .. but it was invalid."
+- clean up misc.to_xml(), make it faster.  BZ 716235.
+- checksum not available implies checksum does not match.  BZ 825272.
+- avoid checksumming existing .sqlite.bz2 files.
+- fix circular obsoletes in transaction members check. BZ 868840.
+
+* Thu Oct 25 2012 Zdenek Pavlas  <zpavlas@redhat.com> - 3.4.3-47
+- replaced yum-cron.sh with the new yum-cron.py (very alpha)
+
+* Thu Oct 25 2012 Nils Philippsen <nils@redhat.com> - 3.4.3-46
+- bump release to ensure upgrade path and satisfy PackageKit deps
+
+* Wed Oct 17 2012 James Antill <james at fedoraproject.org> - 3.4.3-44
+- update to latest HEAD.
+- Add downloadonly into core, and enable background downloads.
+- Lots of minor fixes.
+
+* Fri Sep  7 2012 James Antill <james at fedoraproject.org> - 3.4.3-43
+- update to latest HEAD.
+- Use .ui_id explicitly for backcompat. on strings, *sigh*.
+
+* Sat Sep  1 2012 James Antill <james at fedoraproject.org> - 3.4.3-42
+- update to latest HEAD.
+- Fix missing self. on last patch.
+
+* Fri Aug 31 2012 James Antill <james at fedoraproject.org> - 3.4.3-41
+- update to latest HEAD.
+- Don't statvfs when we aren't going to copy, and using relative.
+
+* Thu Aug 30 2012 James Antill <james at fedoraproject.org> - 3.4.3-40
+- update to latest HEAD.
+- Fix rel-eng problems when repo.repofile is None.
+- Don't statvfs when we aren't going to copy.
+
+* Tue Aug 28 2012 James Antill <james at fedoraproject.org> - 3.4.3-36
+- update to latest HEAD.
+- Fix environment groups write.
+- Allow merging of updateinfo.
+- Add releasever/arch to repoids on output, if used in urls.
+- Merge mirror errors fix.
+
+* Thu Aug 23 2012 Zdenek Pavlas <zpavlas at redhat.com> - 3.4.3-34
+- Some users skip setupProgressCallbacks(). BZ 850913.
+
+* Wed Aug 22 2012 Zdenek Pavlas <zpavlas at redhat.com> - 3.4.3-33
+- update to latest HEAD.
+- Set multi_progress_obj option
+- Show full URLs and mirror errors when _getFile() fails.
+
+* Thu Aug 16 2012 James Antill <james at fedoraproject.org> - 3.4.3-32
+- update to latest HEAD.
+- Some fixes for new environment groups.
+- Fix "yum upgrade" download verification. BZ 848811.
+
+* Fri Aug 10 2012 James Antill <james at fedoraproject.org> - 3.4.3-31
+- update to latest HEAD.
+- Big update, mostly for "environment groups".
+
+* Sun Jul 22 2012 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 3.4.3-30
+- Rebuilt for https://fedoraproject.org/wiki/Fedora_18_Mass_Rebuild
+
+* Wed Jun 20 2012 Zdenek Pavlas <zpavlas at redhat.com> - 3.4.3-29
+- update to latest HEAD.
+- quote uids to keep cachedir ascii-clean.  BZ 832195
+- show_lock_owner: report errors if we fail.  BZ 745281
+
+* Thu Jun 14 2012 Zdenek Pavlas <zpavlas at redhat.com> - 3.4.3-28
+- update to latest HEAD.
+- No async downloading when --cacheonly.  BZ 830523
+- misc.decompress(): compare mtime without sub second precision. BZ 831918
+- preload_from_sys to user dir with --cacheonly, BZ 830523
+
+* Fri Jun  8 2012 James Antill <james at fedoraproject.org> - 3.4.3-27
+- update to latest HEAD.
+- Fix for ppc64p7 detection.
+
+* Wed May 16 2012 Zdenek Pavlas <zpavlas at redhat.com> - 3.4.3-26
+- update to latest master HEAD
+- Fix using available packages as installed, due to strong_requires.
+- Remove tracebacks on MD downloads. BZ 822009.
+
+* Mon May 14 2012 Zdenek Pavlas <zpavlas at redhat.com> - 3.4.3-25
+- update to latest HEAD.
+- merged multi-downloader code
+- rebased yum-ppc64-preferred.patch
+- dropped arm-arch-detection.patch (moved to HEAD)
+- renamed yum-update.cron to 0yum-update.cron
+
+* Fri Apr 27 2012 James Antill <james at fedoraproject.org> - 3.4.3-24
+- Add code for arm detection.
+
+* Fri Mar 16 2012 James Antill <james at fedoraproject.org> - 3.4.3-23
+- update to latest HEAD.
+- Also fix "yum check" for strong requires. bug 795907.
+- Fix for "Only update available" on downgrade. bug 803346.
+
+* Fri Mar  9 2012 James Antill <james at fedoraproject.org> - 3.4.3-22
+- update to latest HEAD.
+- Fail on bad reinstall/downgrade arguments. bug 800285.
+- Fix weird multiple obsoletion bug. BZ 800016
+- Check for a compat. arch. as well, when hand testing for upgradability.
+- Allow changing the exit code on non-fatal errors.
+
+* Thu Mar  1 2012 James Antill <james at fedoraproject.org> - 3.4.3-21
+- update to latest HEAD.
+- Translation update.
+
+* Wed Feb 29 2012 James Antill <james at fedoraproject.org> - 3.4.3-20
+- update to latest HEAD.
+- Lazy setup pkgSack, for localinstall/etc.
+- add support for 64 bit arm hardware.
+- Hack for "info install blah" to never look at repos.
+- Fixup resolvedep command for mock users.
+
+* Mon Feb 20 2012 James Antill <james at fedoraproject.org> - 3.4.3-19
+- update to latest HEAD.
+- Add a yum group convert command, so people can use groups as objects easily.
+- Document the new group stuff.
+- Generic provide markers for installonlypkgs (for kernel/vms).
+- Minor updates/fixes merge some older branches.
+
+* Fri Jan 20 2012 James Antill <james at fedoraproject.org> - 3.4.3-18
+- update to latest HEAD
+- Added group_command, but didn't change to groups as objects by default.
+- Minor updates.
+
+* Sat Jan 14 2012 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 3.4.3-17
+- Rebuilt for https://fedoraproject.org/wiki/Fedora_17_Mass_Rebuild
+
+* Tue Dec 13 2011 James Antill <james at fedoraproject.org> - 3.4.3-16
+- update to latest HEAD
+- Have users always use their own dirs.
+- Minor updates.
+
+* Fri Dec  2 2011 James Antill <james at fedoraproject.org> - 3.4.3-15
+- update to latest HEAD
+- Init "found" variable for distro-sync full. BZ 752407.
+- Fix _conv_pkg_state when calling with history as checksum. BZ 757736.
+- When a repo. fails in repolist, manually populate the ones after it.A
+- Fix a corner case in exception2msg(). BZ 749239.
+- Transifex sync.
+- Hand fix the plural forms gettext stuff.
+
+* Wed Nov 30 2011 Dennis Gilmore <dennis@ausil.us> - 3.4.3-13
+- add patch from upstream for arm hardware floating point support
+
+* Mon Oct 17 2011 James Antill <james at fedoraproject.org> - 3.4.3-12
+- update to latest HEAD
+- Basically just an update for transifex sync.
+
+* Fri Oct 14 2011 James Antill <james at fedoraproject.org> - 3.4.3-11
+- update to latest HEAD
+- Some edge case depsolver bug fixes.
+- Output the GPG fingerprint when showing the GPG key.
+- Update bugtracker URL back to redhat.
+- Allow reinstall and remove arguments to history redo command.
+- Let resolvedep look for installed packages.
+
+* Wed Sep 21 2011 James Antill <james at fedoraproject.org> - 3.4.3-10
+- update to latest HEAD
+- Fix for history sync, and saving on install.
+- Lots of minor bug fixes.
+- Speedups for upgrade_requirements_on_install=true.
+- Fix generated data using bad caches.
+- Changes for yum-cron.
+
+* Tue Aug 23 2011 James Antill <james at fedoraproject.org> - 3.4.3-9
+- update to latest HEAD
+- Update translations.
+- Minor UI tweaks for transaction output.
+- Minor tweak for update_reqs_on_install.
+
+* Mon Aug 22 2011 James Antill <james at fedoraproject.org> - 3.4.3-8
+- update to latest HEAD
+- Fix upgrade_requirements_on_install breaking upgrade typos.
+
+* Fri Aug 19 2011 James Antill <james at fedoraproject.org> - 3.4.3-7
+- update to latest HEAD
+- Fix syncing of yum DB data in history.
+- Add upgrade_requirements_on_install config. option.
+- Don't look for releasever if it's set directly (anaconda).
+- Expose ip_resolve urlgrabber option.
+
+* Fri Aug  5 2011 James Antill <james at fedoraproject.org> - 3.4.3-6
+- update to latest HEAD
+- Add new yum DB data.
+- Add hack to workaround broken python readline in yum shell.
+- Make "yum -q history addon-info last saved_tx" valid input for load-ts.
+- Add "history packages-info/stats/sync" sub-commnands.
+
+* Fri Jul 29 2011 James Antill <james at fedoraproject.org> - 3.4.3-5
+- update to latest HEAD
+- Lots of really minor changes. Docs. and yum-cron mainly.
+- Output yum_saved_tx file.
+
+* Fri Jul 15 2011 James Antill <james at fedoraproject.org> - 3.4.3-4
+- update to latest HEAD
+- Weird old bugs fixed for new createrepo code.
+- Add --assumeno and an easter egg! Also allow remove to use alwaysprompt.
+- Fix \r appearing on serial console etc. BZ 720088.
+- Fix umask on mkdir() as well as open. BZ 719467.
+- Fix traceback when enabling/disabling repos. in GUI.
+
+* Thu Jun 30 2011 James Antill <james at fedoraproject.org> - 3.4.3-3
+- Fix the skip broken tuples => dict. bug. BZ 717973.
+
+* Wed Jun 29 2011 James Antill <james at fedoraproject.org> - 3.4.3-2
+- Add ppc64 arch. change for BZ 713791.
+
+* Tue Jun 28 2011 James Antill <james at fedoraproject.org> - 3.4.3-1
+- update to 3.4.3
+- Real upstream workaround for rpm chroot and history insanity.
+- Minor bugfixes.
+
+* Wed Jun 22 2011 James Antill <james at fedoraproject.org> - 3.4.2-2
+- Workaround rpm chroot insanity.
+
+* Wed Jun 22 2011 James Antill <james at fedoraproject.org> - 3.4.2-1
+- update to 3.4.2
+- Lots of smallish bug fixes/tweaks.
+- Lookup erase transaction members, by their name, if we can.
+- Added pluralized translation messages.
+
+* Tue Jun 14 2011 James Antill <james at fedoraproject.org> - 3.4.1-5
+- update to latest HEAD
+- Lots of smallish bug fixes.
+- New groups command.
+
+* Thu Jun  2 2011 James Antill <james at fedoraproject.org> - 3.4.1-4
+- update to latest HEAD
+- Fix RepoStorage problem for pulp.
+- Add list of not found packages.
+- Minor bug fixes.
+
+* Tue May 24 2011 James Antill <james at fedoraproject.org> - 3.4.1-3
+- update to latest HEAD
+- Tweak "yum provides"
+- Don't access the repos. for saved_tx, if doing a removal.
+- Fix a couple of old minor bugs:
+- Remove usage of INFO_* from yumcommands, as -q supresses that. BZ 689241.
+- Don't show depsolve failure messages for non-depsolving problems. BZ 597336.
+
+* Wed May  4 2011 James Antill <james at fedoraproject.org> - 3.4.1-2
+- update to latest HEAD
+- Fix consolidate_libc.
+- Update translations.
+- Add history rollback.
+
+* Wed Apr 20 2011 James Antill <james at fedoraproject.org> - 3.4.1-1
+- Fix umask override.
+- Remove double baseurl display, BZ 697885.
+
+* Fri Apr 15 2011 James Antill <james at fedoraproject.org> - 3.4.0-1
+- update to 3.4.0.
+
+* Fri Apr  8 2011 James Antill <james at fedoraproject.org> - 3.2.29-10
+- update to latest HEAD 
+- Likely last HEAD before 3.2.30.
+
+* Fri Mar 25 2011 Seth Vidal <skvidal at fedoraproject.org> - 3.2.29-9
+- update to latest HEAD 
+
+* Mon Feb 28 2011 Seth Vidal <skvidal at fedoraproject.org> - 3.2.29-8
+- take out the hack-patch from 2 weeks ago.
+
+* Mon Feb 28 2011 Seth Vidal <skvidal at fedoraproject.org> - 3.2.29-7
+- latest head including all of Panu's rpmutils/callback patches
+
+* Thu Feb 17 2011 Seth Vidal <skvidal at fedoraproject.org> - 3.2.29-6
+- add rpmutils-recursive-import.patch to work around recursive import problems
+
+* Wed Feb 16 2011 Seth Vidal <skvidal at fedoraproject.org> - 3.2.29-5
+- lots of hopefully NOT exciting changes to rpmutils/rpmsack from head.
+
+* Tue Feb 08 2011 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 3.2.29-4
+- Rebuilt for https://fedoraproject.org/wiki/Fedora_15_Mass_Rebuild
+
+* Tue Jan 25 2011 Seth Vidal <skvidal at fedoraproject.org> - 3.2.29-3
+- latest from head - fixing a number of minor bugs
+
+* Thu Jan 13 2011 Seth Vidal <skvidal at fedoraproject.org> - 3.2.29-2
+- grumble broken skip-broken test :(
+
+
+* Thu Jan 13 2011 Seth Vidal <skvidal at fedoraproject.org> - 3.2.29-1
+- 3.2.29
+- add yum-cron subpkg
+
+* Thu Jan  6 2011 James Antill <james at fedoraproject.org> - 3.2.28-17
+- Allow kernel installs with multilib protection ... oops!
+- Don't conflict with fixed versions of Zif.
+- Add locks for non-root.
+
+* Tue Jan  4 2011 Seth Vidal <skvidal at fedoraproject.org> - 3.2.28-16
+- fix skip-broken conflict - thanks dgilmore for the catch
+
+* Tue Jan  4 2011 Seth Vidal <skvidal at fedoraproject.org> - 3.2.28-15
+- latest head
+- conflicts zif
+
+* Thu Nov 11 2010 James Antill <james at fedoraproject.org> - 3.2.28-14
+- latest head
+- Perf. fixes/improvements.
+
+* Tue Nov  9 2010 Seth Vidal <skvidal at fedoraproject.org> - 3.2.28-13
+- once again with head
+
+* Fri Nov  5 2010 James Antill <james at fedoraproject.org> - 3.2.28-12
+- latest head
+- Add load-ts command.
+- Fix verifying symlinks.
+
+* Wed Oct 20 2010 Seth Vidal <skvidal at fedoraproject.org> - 3.2.28-11
+- latest head
+- depsolve enhancements on update/obsoletes
+- show recent pkgs in history package-list instead of a specific pkg
+- bz: 644432, 644265
+- make sure urlgrabber is using the right config settings for fetching gpg keys
+
+
+* Fri Oct 15 2010 James Antill <james at fedoraproject.org> - 3.2.28-10
+- latest head 
+- Fix major breakage from the "list updates" speedup :).
+- Close curl/urlgrabber after downloading packages.
+- Allow remove+update in "yum shell".
+- Fix output of distro tags.
+
+* Thu Oct  7 2010 James Antill <james at fedoraproject.org> - 3.2.28-9
+- latest head 
+- Add localpkg_gpgcheck option.
+- Speedup "list updates"
+- Doc fixes.
+
+* Sat Sep 25 2010 James Antill <james at fedoraproject.org> - 3.2.28-8
+- latest head 
+- Speedup install/remove/etc a lot.
+- Add merged history.
+- Fix unique comps/pkgtags leftovers.
+
+* Tue Sep 14 2010 James Antill <james at fedoraproject.org> - 3.2.28-7
+- latest head 
+- Fix PK/auto-close GPG import bug.
+- Fix patch for installonly_limit and enable it again.
+- Fix rpmlint warnings.
+- Remove color=never config.
+
+* Fri Sep 10 2010 Seth Vidal <skvidal at fedoraproject.org>
+- latest head 
+
+* Fri Aug 27 2010 Seth Vidal <skvidal at fedoraproject.org>
+- obsoleted yum-plugin-download-order
+
+* Thu Aug 12 2010 Seth Vidal <skvidal at fedoraproject.org> - 3.2.28-3
+- latest head
+- fix gpg key import
+- more unicode fixes
+- output slightly more clear depsovling error msgs
+
+* Mon Aug  9 2010 Seth Vidal <skvidal at fedoraproject.org> - 3.2.28-2
+- latest head
+- unicide fixes
+- sqlite history db conversion fixes
 
-* Sun Jun 18 2006 Seth Vidal <skvidal at linux.duke.edu>
-- 2.9.1
 
-* Tue Mar  7 2006 Seth Vidal <skvidal at linux.duke.edu>
-- 2.9.0 - new dev cycle
-
-* Mon Mar  6 2006 Seth Vidal <skvidal at linux.duke.edu>
-- 2.6.0
-
-* Wed Feb 22 2006 Seth Vidal <skvidal@phy.duke.edu>
-- 2.5.3
-
-* Sun Jan  8 2006 Seth Vidal <skvidal@phy.duke.edu>
-- 2.5.1
-
-* Sun Aug 14 2005 Seth Vidal <skvidal@phy.duke.edu>
-- 2.5.0
-
-* Fri Aug  5 2005 Seth Vidal <skvidal@phy.duke.edu>
-- back to libxml2-python req
-
-* Fri Jul  8 2005 Seth Vidal <skvidal@phy.duke.edu>
-- 2.3.4
-
-* Tue Jun 14 2005 Seth Vidal <skvidal@phy.duke.edu>
-- 2.3.3
-
-* Wed Apr  6 2005 Seth Vidal <skvidal@phy.duke.edu>
-- added python-elementtree dep, remove libxml2 dep
-
-* Mon Apr  4 2005 Seth Vidal <skvidal@phy.duke.edu>
-- 2.3.2
-
-* Mon Mar 28 2005 Seth Vidal <skvidal@phy.duke.edu>
-- add in the /etc/yum/*.yum yum shell files
-
-* Mon Mar  7 2005 Seth Vidal <skvidal@phy.duke.edu>
-- 2.3.1
-- get rid of old obsoletes
-
-* Fri Feb 25 2005 Gijs Hollestelle <gijs@gewis.nl>
-- Require python-sqlite
-
-* Fri Feb 25 2005 Seth Vidal <skvidal@phy.duke.edu>
-- add yum.cron to weekly to clean packages
-
-* Mon Feb 21 2005 Seth Vidal <skvidal@phy.duke.edu>
-- new devel branch - 2.3.0
-
-* Tue Jan 25 2005 Seth Vidal <skvidal@phy.duke.edu>
-- 2.1.13
-
-* Sat Nov 27 2004 Seth Vidal <skvidal@phy.duke.edu>
-- 2.1.12
-
-* Wed Oct 27 2004 Seth Vidal <skvidal@phy.duke.edu>
-- 2.1.11
-
-
-* Tue Oct 19 2004 Seth Vidal <skvidal@phy.duke.edu>
-- 2.1.10
-
-* Mon Oct 18 2004 Seth Vidal <skvidal@phy.duke.edu>
-- 2.1.9 - paper bag release
-
-
-* Mon Oct 18 2004 Seth Vidal <skvidal@phy.duke.edu>
-- 2.1.8
-
-
-* Wed Oct 13 2004 Seth Vidal <skvidal@phy.duke.edu>
-- update to 2.1.7
-- re-include yum-arch w/deprecation notice
-
-* Wed Oct  6 2004 Seth Vidal <skvidal@phy.duke.edu>
-- mdcaching code and list changes
-- 2.1.6
-
-* Mon Oct  4 2004 Seth Vidal <skvidal@phy.duke.edu>
-- 2.1.5
-
-- lots of minor bugfixes and corrections
-
-
-* Tue Sep 28 2004 Seth Vidal <skvidal@phy.duke.edu>
-- 2.1.4
-
-* Fri Sep  3 2004 Seth Vidal <skvidal@phy.duke.edu>
-- big depsolver update
-
-* Wed Sep  1 2004 Seth Vidal <skvidal@phy.duke.edu>
-- more changes
-
-* Tue Aug 31 2004 Seth Vidal <skvidal@phy.duke.edu>
-- all new stuff for 2.1.X
-
-* Mon Sep  8 2003 Seth Vidal <skvidal@phy.duke.edu>
-- brown paper-bag 2.0.3
-
-* Sun Sep  7 2003 Seth Vidal <skvidal@phy.duke.edu>
-- bump to 2.0.2
-
-* Fri Aug 15 2003 Seth Vidal <skvidal@phy.duke.edu>
-- bump to 2.0.1
-
-* Sun Jul 13 2003 Seth Vidal <skvidal@phy.duke.edu>
-- bump to 2.0
-
-* Sat Jul 12 2003 Seth Vidal <skvidal@phy.duke.edu>
-- made yum.cron config(noreplace)
-
-* Sat Jun  7 2003 Seth Vidal <skvidal@phy.duke.edu>
-- add stubs to spec file for rebuilding easily with custom yum.conf and
-- yum.cron files
-
-* Sat May 31 2003 Seth Vidal <skvidal@phy.duke.edu>
-- bump to 1.98
-
-* Mon Apr 21 2003 Seth Vidal <skvidal@phy.duke.edu>
-- bump to 1.97
-
-* Wed Apr 16 2003 Seth Vidal <skvidal@phy.duke.edu>
-- moved to fhs compliance
-- ver to 1.96
-
-* Mon Apr  7 2003 Seth Vidal <skvidal@phy.duke.edu>
-- updated for 1.95 betaish release
-- remove /sbin legacy
-- no longer starts up by default
-- do the find_lang thing
-
-* Sun Dec 22 2002 Seth Vidal <skvidal@phy.duke.edu>
-- bumped ver to 0.9.4
-- new spec file for rhl 8.0
-
-* Sun Oct 20 2002 Seth Vidal <skvidal@phy.duke.edu>
-- bumped ver to 0.9.3
-
-* Mon Aug 26 2002 Seth Vidal <skvidal@phy.duke.edu>
-- bumped ver to 0.9.2
-
-* Thu Jul 11 2002 Seth Vidal <skvidal@phy.duke.edu>
-- bumped ver to 0.9.1
-
-* Thu Jul 11 2002 Seth Vidal <skvidal@phy.duke.edu>
-- bumped ver  to 0.9.0
-
-* Thu Jul 11 2002 Seth Vidal <skvidal@phy.duke.edu>
-- added rpm require
-
-* Sun Jun 30 2002 Seth Vidal <skvidal@phy.duke.edu>
-- 0.8.9
+* Fri Jul 30 2010 Seth Vidal <skvidal at fedoraproject.org> - 3.2.28-1
+- 3.2.28
 
-* Fri Jun 14 2002 Seth Vidal <skvidal@phy.duke.edu>
-- 0.8.7
 
-* Thu Jun 13 2002 Seth Vidal <skvidal@phy.duke.edu>
-- bumped to 0.8.5
+* Wed Jul 28 2010 Mamoru Tasaka <mtasaka@ioa.s.u-tokyo.ac.jp> - 3.2.27-21
+- Again rebuild against python 2.7
 
-* Thu Jun 13 2002 Seth Vidal <skvidal@phy.duke.edu>
-- bumped to 0.8.4
+* Mon Jul 26 2010 Seth Vidal <skvidal at fedoraproject.org> - 3.2.27-20
+- latest head
+- minor fixes and doc updates
+- hardlink yumdb files to conserve spacde
+- cache yumdb results
+
+* Thu Jul 22 2010 David Malcolm <dmalcolm@redhat.com> - 3.2.27-19
+- Rebuilt for https://fedoraproject.org/wiki/Features/Python_2.7/MassRebuild
+
+* Fri Jul 16 2010 James Antill <james@fedoraproject.org> - 3.2.27-18
+- Latest head.
+- Add history addon-info.
+- Add new callbacks, verify and compare_providers.
+- Fix rpm transaction fail API break, probably only for anaconda.
+- Bug fixes.
+
+* Fri Jun 25 2010 James Antill <james@fedoraproject.org> - 3.2.27-17
+- Latest head.
+- Allow reinstalls of kernel, etc.
+- Tweaks to some user output.
+- Allow Fedora GPG keys to be removed.
+- Add history extra data API, and history plugin hooks.
+- Bunch of minor bug fixes.
+
+* Tue Jun 15 2010 James Antill <james@fedoraproject.org> - 3.2.27-16
+- Latest head.
+- Fix install being recorded as reinstall.
+- Make localinstall not install obsoleted only by installed.
+- Fix info -v, on available packages.
+- Fix man page stuff.
+- Deal with unicide on rpmdb problems.
+- Allow ipkg.repo.name to work.
+- Add ville's epoch None vs. 0 code, in compareEVR.
+
+* Fri Jun 11 2010 James Antill <james@fedoraproject.org> - 3.2.27-15
+- Latest head.
+- Add filtering requires code for createrepo.
+- Add installed_by/changed_by yumdb values.
+- Tweak output for install/reinstall/downgrade callbacks.
+- Add plugin hooks for pre/post verifytrans.
+- Deal with local pkgs. which only obsolete.
+- No chain removals on downgrade.
+- Bunch of speedups for "list installed blah", and "remove blah".
+
+* Wed Jun  2 2010 Seth Vidal <skvidal at fedoraproject.org> - 3.2.27-14
+- merge in latest yum head:
+- change decompressors to support lzma, if python module is available
+- finnish translation fixes
+- pyint vs pylong fix for formatRequire() so we stop spitting back the wrong requires strings to mock on newish rpm
+- add exit_on_lock option
+- Deal with RHEL-5 loginuid damage
+- Fix pkgs. that are excluded after being put in yb.up ... BZ#597853
+- Opt. for rpmdb.returnPackages(patterns=...). Drops about 30%% from remove time.
+- Fix "remove name-version", really minor API bug before last patch
+
+* Wed May 26 2010 Seth Vidal <skvidal at fedoraproject.org> - 3.2.27-13
+- minor cleanups for yum-utils with --setopt
+- translation updates
+
+* Thu May 13 2010 James Antill <james@fedoraproject.org> - 3.2.27-12
+- Latest head.
+- History db version 2
+- Some bug fixes
+- More paranoid/leanient with rpmdb cache problems.
+
+* Wed May  5 2010 James Antill <james@fedoraproject.org> - 3.2.27-11
+- Fix from head for mock, mtime=>ctime due to caches and fixed installroot
+- Fix for typo in new problems code, bug 589008
+
+* Mon May  3 2010 Seth Vidal <skvidal at fedoraproject.org> - 3.2.27-10
+- latest head
+- fixes yum chroot path duplication
+- yum.log perms
+
+* Thu Apr 29 2010 James Antill <james@fedoraproject.org> - 3.2.27-9
+- Latest yum-3_2_X head.
+- Added protect packages.
+- Bug fixes from the yum bug day.
+- Added removed size output.
+- Added glob: to all list config. options.
+- Fix fsvars.
+
+* Thu Apr 22 2010 James Antill <james@fedoraproject.org> - 3.2.27-8
+- Latest yum-3_2_X head.
+- Add deselections.
+- Add simple depsolve into compare_providers
+- Speedup distro-sync blah.
+
+* Fri Apr 16 2010 James Antill <james@fedoraproject.org> - 3.2.27-7
+- Latest yum-3_2_X head.
+- Add the "big update" speedup patch.
+- Add nocontexts ts flag.
+- Add provides and obsoleted to "yum check".
+- Add new dump_xml stuff for createrepo/modifyrepo.
+- Move /var/lib/yum/vars to /etc/yum/vars
+
+* Mon Apr 12 2010 James Antill <james@fedoraproject.org> - 3.2.27-6
+- Latest yum-3_2_X head.
+- Fix the caching changes.
+
+* Sat Apr 10 2010 James Antill <james@fedoraproject.org> - 3.2.27-5
+- Latest yum-3_2_X head.
+- Remove the broken assert in sqlitesack
+
+* Thu Apr  8 2010 Seth Vidal <skvidal at fedoraproject.org> - 3.2.27-4
+- more latest headness
+
+* Fri Mar 26 2010 James Antill <james@fedoraproject.org> - 3.2.27-3
+- Latest yum-3_2_X head.
+
+* Tue Mar 23 2010 Seth Vidal <skvidal at fedoraproject.org> - 3.2.27-2
+- broke searching in PK, this patch fixes it.
+
+* Thu Mar 18 2010 Seth Vidal <skvidal at fedoraproject.org> - 3.2.27-1
+- 3.2.27 from upstream (more or less the same as 3.2.26-6 but with a new number
+
+* Thu Mar 11 2010 Seth Vidal <skvidal at fedoraproject.org> - 3.2.26-6
+- should be the final HEAD update before 3.2.27
+
+* Wed Feb 24 2010 James Antill <james@fedoraproject.org> - 3.2.26-5
+- new HEAD, minor features and speed.
+
+* Wed Feb 17 2010 Seth Vidal <skvidal at fedoraproject.org> - 3.2.26-4
+- new HEAD to fix the fix to the fix
+
+* Tue Feb 16 2010 Seth Vidal <skvidal at fedoraproject.org> - 3.2.26-3
+- latest head - including fixes to searchPrcos
+
+* Wed Feb 10 2010 Seth Vidal <skvidal at fedoraproject.org> - 3.2.26-2
+- grumble.
+
+* Tue Feb  9 2010 Seth Vidal <skvidal at fedoraproject.org> - 3.2.26-1
+- final 3.2.26
+
+* Mon Feb  8 2010 Seth Vidal <skvidal at fedoraproject.org> - 3.2.25-14
+- $uuid, pkgtags searching, latest HEAD patch - pre 3.2.26
+
+* Thu Jan 28 2010 James Antill <james at fedoraproject.org> - 3.2.25-13
+- A couple of bugfixes, most notably:
+-  you can now install gpg keys again!
+-  bad installed file requires don't get cached.
+
+* Fri Jan 22 2010 Seth Vidal <skvidal at fedoraproject.org> - 3.2.25-12
+- someone forgot to push their changes
+
+* Fri Jan 22 2010 Seth Vidal <skvidal at fedoraproject.org> - 3.2.25-11
+- more fixes, more fun
+
+* Fri Jan 15 2010 James Antill <james at fedoraproject.org> - 3.2.25-10
+- latest head
+- Fixes for pungi, rpmdb caching and kernel-PAE-devel duplicates finding
+- among others.
 
-* Sun Jun  9 2002 Seth Vidal <skvidal@phy.duke.edu>
-- bumped to 0.8.2
-* Thu Jun  6 2002 Seth Vidal <skvidal@phy.duke.edu>
-- First packaging
+* Mon Jan  4 2010 Seth Vidal <skvidal at fedoraproject.org> - 3.2.25-8
+- latest head
diff -urN yum-3.4.3-patched-orig/yum-updatesd.py yum-3.4.3-patched/yum-updatesd.py
--- yum-3.4.3-patched-orig/yum-updatesd.py	2020-03-10 08:28:25.759191475 +0100
+++ yum-3.4.3-patched/yum-updatesd.py	2020-03-10 08:53:58.762352975 +0100
@@ -1,4 +1,4 @@
-#!/usr/bin/python -tt
+#!/usr/bin/python2 -tt
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
 # the Free Software Foundation; either version 2 of the License, or
