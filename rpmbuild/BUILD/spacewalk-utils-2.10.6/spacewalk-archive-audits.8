.\" auto-generated by docbook2man-spec from docbook-utils package
.TH "SPACEWALK-ARCHIVE-AUDITS" "8" "10 MÃ¤rz 2020" "Version 1.0" ""
.SH NAME
spacewalk-archive-audits \- Archive and purge the audit-logging tables introduced with Spacewalk 2.0
.SH SYNOPSIS
.sp
.nf
    
.sp
\fBspacewalk-archive-audits\fR [ \fBoptions \fI\&...\fB\fR ] 

    
.sp
 [ \fB-l\fR ]  [ \fB --list\fR ] 

    
.sp
 [ \fB-a\fR ]  [ \fB--archive\fR ] 

    
.sp
 [ \fB-p\fR ]  [ \fB--purge\fR ] 

    
.sp
 [ \fB-t\fI YYYY-MM-DD hh24:mi:ss\fB\fR ]  [ \fB--timestamp=\fIYYYY-MM-DD hh24:mi:ss\fB\fR ] 

    
.sp
 [ \fB-h\fR ]  [ \fB--help\fR ] 
.sp
.fi
.SH "DESCRIPTION"
.PP
\fBspacewalk-archive-audits\fR archives and purges the audit-logging tables enabled in the Spacewalk instance on which the command is executed.
.PP
Since audit-entries grow over time, this command is provided to give the Spacewalk administrator a tool to cull old table-entries while preserving them for historical reporting.
.PP
When --archive or --purge are chosen, an entry is made to /var/log/rhn/archive-audit-tables.log with the timestamp, executing-login, action, and results.
.SH "OPTIONS"
.TP
\fB-h, --help\fR
Display the help screen with a list of options.
.TP
\fB-l, --list\fR
List the current number of records in all *_log tables found in the Spacewalk database.
.TP
\fB-a, --archive\fR
Archives all entries occurring before --timestamp-specified time, into files named TABLENAME.CURRENT-TIMESTAMP.csv.
.TP
\fB-p, --purge\fR
Deletes all audit-entries occurring before --timestamp-specified time.
.TP
\fB-t=\fI YYYY-MM-DD hh24:mi:ss\fB, --timestamp=\fIYYYY-MM-DD hh24:mi:ss\fB\fR
Specifies the most-recent timestamp to --archive or --purge. Any/all entries made \fBbefore\fR this mark will be recorded and/or deleted. Required for --archive and --purge.
.SH "AUTHORS"

Grant Gainey <ggainey@redhat.com>
