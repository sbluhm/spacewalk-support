<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>jabberd2: sm/mod_roster_publish.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">jabberd2
   &#160;<span id="projectnumber">2.6.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_bc0f242c85b520934b5dba85c72d6af4.html">sm</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">mod_roster_publish.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>roster publishing  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="sm_8h_source.html">sm.h</a>&quot;</code><br />
</div>
<p><a href="mod__roster__publish_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__roster__publish__active__cache__st.html">_roster_publish_active_cache_st</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__roster__publish__group__cache__st.html">_roster_publish_group_cache_st</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__roster__publish__st.html">_roster_publish_st</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a75c6cf95c715eb70cee7873189d7ad3f"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct__roster__publish__active__cache__st.html">_roster_publish_active_cache_st</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mod__roster__publish_8c.html#a75c6cf95c715eb70cee7873189d7ad3f">_roster_publish_active_cache_t</a></td></tr>
<tr class="separator:a75c6cf95c715eb70cee7873189d7ad3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a092d70c324e9432851657190609ed6f2"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct__roster__publish__group__cache__st.html">_roster_publish_group_cache_st</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mod__roster__publish_8c.html#a092d70c324e9432851657190609ed6f2">_roster_publish_group_cache_t</a></td></tr>
<tr class="separator:a092d70c324e9432851657190609ed6f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af922d951429cdacdd6b2d7a87636b7ef"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct__roster__publish__st.html">_roster_publish_st</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mod__roster__publish_8c.html#af922d951429cdacdd6b2d7a87636b7ef">roster_publish_t</a></td></tr>
<tr class="separator:af922d951429cdacdd6b2d7a87636b7ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad4b45cdef1cda642becc561c1e1eb18f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mod__roster__publish_8c.html#ad4b45cdef1cda642becc561c1e1eb18f">_roster_publish_free_active_cache_walker</a> (const char *key, int keylen, void *val, void *arg)</td></tr>
<tr class="separator:ad4b45cdef1cda642becc561c1e1eb18f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7530d86599e8dc3f9cfeafdf00f1ee62"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mod__roster__publish_8c.html#a7530d86599e8dc3f9cfeafdf00f1ee62">_roster_publish_free_group_cache_walker</a> (const char *key, int keylen, void *val, void *arg)</td></tr>
<tr class="separator:a7530d86599e8dc3f9cfeafdf00f1ee62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6d8ab85b98cb722918bbe05c1ba43a7"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mod__roster__publish_8c.html#ac6d8ab85b98cb722918bbe05c1ba43a7">_roster_publish_get_group_name</a> (<a class="el" href="sm_8h.html#afa688bc3a384e83fc9e14c0d0b5394f4">sm_t</a> <a class="el" href="sm_2main_8c.html#acc855fa6b4745eeb55a2c556844fc3ef">sm</a>, <a class="el" href="mod__roster__publish_8c.html#af922d951429cdacdd6b2d7a87636b7ef">roster_publish_t</a> rp, const char *groupid)</td></tr>
<tr class="separator:ac6d8ab85b98cb722918bbe05c1ba43a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4ee55b5a1d42f3fc6fed4785c5eec42"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mod__roster__publish_8c.html#ad4ee55b5a1d42f3fc6fed4785c5eec42">_roster_publish_free_walker</a> (<a class="el" href="xhash_8h.html#a45aab3d6c67985c0f106ddac7f159579">xht</a> roster, const char *key, void *val, void *arg)</td></tr>
<tr class="separator:ad4ee55b5a1d42f3fc6fed4785c5eec42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae63cf0ba78a494d83706a23f2358436b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mod__roster__publish_8c.html#ae63cf0ba78a494d83706a23f2358436b">_roster_publish_save_item</a> (<a class="el" href="sm_8h.html#a08afec6b77f953fc15df553c62b5797a">user_t</a> user, <a class="el" href="sm_8h.html#af0f059e3d9fdbff33e6cf1bf4fc7c181">item_t</a> item)</td></tr>
<tr class="separator:ae63cf0ba78a494d83706a23f2358436b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04de504a84b7edf52ba161bb9dc233fe"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mod__roster__publish_8c.html#a04de504a84b7edf52ba161bb9dc233fe">_roster_publish_user_load</a> (<a class="el" href="sm_8h.html#a245a93b4e61b4cc97383775597d17220">mod_instance_t</a> mi, <a class="el" href="sm_8h.html#a08afec6b77f953fc15df553c62b5797a">user_t</a> user)</td></tr>
<tr class="memdesc:a04de504a84b7edf52ba161bb9dc233fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">publish the roster from the database  <a href="#a04de504a84b7edf52ba161bb9dc233fe">More...</a><br /></td></tr>
<tr class="separator:a04de504a84b7edf52ba161bb9dc233fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a489cfdbdb0bd5da6348992df5c56a7c2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mod__roster__publish_8c.html#a489cfdbdb0bd5da6348992df5c56a7c2">_roster_publish_free</a> (<a class="el" href="sm_8h.html#abd095ded279ab85f46cf51bbc20cb273">module_t</a> mod)</td></tr>
<tr class="separator:a489cfdbdb0bd5da6348992df5c56a7c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1778ad5f4772e1c49c7ad46f27a61c0a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sm_8h.html#a808e08638be3cba36e36759e5b150de0">DLLEXPORT</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mod__roster__publish_8c.html#a1778ad5f4772e1c49c7ad46f27a61c0a">module_init</a> (<a class="el" href="sm_8h.html#a245a93b4e61b4cc97383775597d17220">mod_instance_t</a> mi, const char *arg)</td></tr>
<tr class="separator:a1778ad5f4772e1c49c7ad46f27a61c0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>roster publishing </p>
<dl class="section author"><dt>Author</dt><dd>Nikita Smirnov </dd></dl>

<p class="definition">Definition in file <a class="el" href="mod__roster__publish_8c_source.html">mod_roster_publish.c</a>.</p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="a75c6cf95c715eb70cee7873189d7ad3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75c6cf95c715eb70cee7873189d7ad3f">&#9670;&nbsp;</a></span>_roster_publish_active_cache_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct__roster__publish__active__cache__st.html">_roster_publish_active_cache_st</a>* <a class="el" href="mod__roster__publish_8c.html#a75c6cf95c715eb70cee7873189d7ad3f">_roster_publish_active_cache_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mod__roster__publish_8c_source.html#l00029">29</a> of file <a class="el" href="mod__roster__publish_8c_source.html">mod_roster_publish.c</a>.</p>

</div>
</div>
<a id="a092d70c324e9432851657190609ed6f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a092d70c324e9432851657190609ed6f2">&#9670;&nbsp;</a></span>_roster_publish_group_cache_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct__roster__publish__group__cache__st.html">_roster_publish_group_cache_st</a>* <a class="el" href="mod__roster__publish_8c.html#a092d70c324e9432851657190609ed6f2">_roster_publish_group_cache_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mod__roster__publish_8c_source.html#l00035">35</a> of file <a class="el" href="mod__roster__publish_8c_source.html">mod_roster_publish.c</a>.</p>

</div>
</div>
<a id="af922d951429cdacdd6b2d7a87636b7ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af922d951429cdacdd6b2d7a87636b7ef">&#9670;&nbsp;</a></span>roster_publish_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct__roster__publish__st.html">_roster_publish_st</a> * <a class="el" href="mod__roster__publish_8c.html#af922d951429cdacdd6b2d7a87636b7ef">roster_publish_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ad4b45cdef1cda642becc561c1e1eb18f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4b45cdef1cda642becc561c1e1eb18f">&#9670;&nbsp;</a></span>_roster_publish_free_active_cache_walker()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _roster_publish_free_active_cache_walker </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>keylen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mod__roster__publish_8c_source.html#l00060">60</a> of file <a class="el" href="mod__roster__publish_8c_source.html">mod_roster_publish.c</a>.</p>

<p class="reference">References <a class="el" href="mod__roster__publish_8c_source.html#l00033">_roster_publish_active_cache_st::jid_user</a>.</p>

<p class="reference">Referenced by <a class="el" href="mod__roster__publish_8c_source.html#l00507">_roster_publish_free()</a>.</p>

</div>
</div>
<a id="a7530d86599e8dc3f9cfeafdf00f1ee62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7530d86599e8dc3f9cfeafdf00f1ee62">&#9670;&nbsp;</a></span>_roster_publish_free_group_cache_walker()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _roster_publish_free_group_cache_walker </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>keylen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mod__roster__publish_8c_source.html#l00066">66</a> of file <a class="el" href="mod__roster__publish_8c_source.html">mod_roster_publish.c</a>.</p>

<p class="reference">References <a class="el" href="mod__roster__publish_8c_source.html#l00038">_roster_publish_group_cache_st::groupid</a>, and <a class="el" href="mod__roster__publish_8c_source.html#l00039">_roster_publish_group_cache_st::groupname</a>.</p>

<p class="reference">Referenced by <a class="el" href="mod__roster__publish_8c_source.html#l00507">_roster_publish_free()</a>.</p>

</div>
</div>
<a id="ac6d8ab85b98cb722918bbe05c1ba43a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6d8ab85b98cb722918bbe05c1ba43a7">&#9670;&nbsp;</a></span>_roster_publish_get_group_name()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const char* _roster_publish_get_group_name </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sm_8h.html#afa688bc3a384e83fc9e14c0d0b5394f4">sm_t</a>&#160;</td>
          <td class="paramname"><em>sm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="mod__roster__publish_8c.html#af922d951429cdacdd6b2d7a87636b7ef">roster_publish_t</a>&#160;</td>
          <td class="paramname"><em>rp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>groupid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mod__roster__publish_8c_source.html#l00078">78</a> of file <a class="el" href="mod__roster__publish_8c_source.html">mod_roster_publish.c</a>.</p>

<p class="reference">References <a class="el" href="mod__roster__publish_8c_source.html#l00053">_roster_publish_st::group_cache</a>, <a class="el" href="mod__roster__publish_8c_source.html#l00049">_roster_publish_st::group_cache_ttl</a>, <a class="el" href="mod__roster__publish_8c_source.html#l00038">_roster_publish_group_cache_st::groupid</a>, <a class="el" href="mod__roster__publish_8c_source.html#l00039">_roster_publish_group_cache_st::groupname</a>, <a class="el" href="log_8h_source.html#l00065">log_debug</a>, <a class="el" href="sm_8h_source.html#l00211">sm_st::st</a>, <a class="el" href="mod__roster__publish_8c_source.html#l00031">_roster_publish_active_cache_st::time</a>, <a class="el" href="mod__roster__publish_8c_source.html#l00037">_roster_publish_group_cache_st::time</a>, <a class="el" href="xhash_8c_source.html#l00184">xhash_get()</a>, <a class="el" href="xhash_8c_source.html#l00096">xhash_new()</a>, <a class="el" href="xhash_8c_source.html#l00163">xhash_put()</a>, <a class="el" href="xhash_8c_source.html#l00235">xhash_zap()</a>, and <a class="el" href="mio__impl_8h_source.html#l00076">ZONE</a>.</p>

<p class="reference">Referenced by <a class="el" href="mod__roster__publish_8c_source.html#l00203">_roster_publish_user_load()</a>.</p>

</div>
</div>
<a id="ad4ee55b5a1d42f3fc6fed4785c5eec42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4ee55b5a1d42f3fc6fed4785c5eec42">&#9670;&nbsp;</a></span>_roster_publish_free_walker()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _roster_publish_free_walker </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="xhash_8h.html#a45aab3d6c67985c0f106ddac7f159579">xht</a>&#160;</td>
          <td class="paramname"><em>roster</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mod__roster__publish_8c_source.html#l00138">138</a> of file <a class="el" href="mod__roster__publish_8c_source.html">mod_roster_publish.c</a>.</p>

<p class="reference">References <a class="el" href="sm_8h_source.html#l00155">item_st::groups</a>, <a class="el" href="sm_8h_source.html#l00151">item_st::jid</a>, <a class="el" href="jid_8c_source.html#l00286">jid_free()</a>, <a class="el" href="sm_8h_source.html#l00153">item_st::name</a>, and <a class="el" href="sm_8h_source.html#l00157">item_st::ngroups</a>.</p>

<p class="reference">Referenced by <a class="el" href="mod__roster__publish_8c_source.html#l00203">_roster_publish_user_load()</a>.</p>

</div>
</div>
<a id="ae63cf0ba78a494d83706a23f2358436b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae63cf0ba78a494d83706a23f2358436b">&#9670;&nbsp;</a></span>_roster_publish_save_item()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _roster_publish_save_item </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sm_8h.html#a08afec6b77f953fc15df553c62b5797a">user_t</a>&#160;</td>
          <td class="paramname"><em>user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sm_8h.html#af0f059e3d9fdbff33e6cf1bf4fc7c181">item_t</a>&#160;</td>
          <td class="paramname"><em>item</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mod__roster__publish_8c_source.html#l00155">155</a> of file <a class="el" href="mod__roster__publish_8c_source.html">mod_roster_publish.c</a>.</p>

<p class="reference">References <a class="el" href="sm_8h_source.html#l00161">item_st::ask</a>, <a class="el" href="sm_8h_source.html#l00159">item_st::from</a>, <a class="el" href="sm_8h_source.html#l00155">item_st::groups</a>, <a class="el" href="sm_8h_source.html#l00151">item_st::jid</a>, <a class="el" href="sm_8h_source.html#l00239">user_st::jid</a>, <a class="el" href="jid_8c_source.html#l00346">jid_full()</a>, <a class="el" href="mod__roster__publish_8c_source.html#l00033">_roster_publish_active_cache_st::jid_user</a>, <a class="el" href="log_8h_source.html#l00065">log_debug</a>, <a class="el" href="sm_8h_source.html#l00153">item_st::name</a>, <a class="el" href="sm_8h_source.html#l00157">item_st::ngroups</a>, <a class="el" href="sm_8h_source.html#l00237">user_st::sm</a>, <a class="el" href="sm_8h_source.html#l00211">sm_st::st</a>, <a class="el" href="sm_8h_source.html#l00159">item_st::to</a>, and <a class="el" href="mio__impl_8h_source.html#l00076">ZONE</a>.</p>

<p class="reference">Referenced by <a class="el" href="mod__roster__publish_8c_source.html#l00203">_roster_publish_user_load()</a>.</p>

</div>
</div>
<a id="a04de504a84b7edf52ba161bb9dc233fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04de504a84b7edf52ba161bb9dc233fe">&#9670;&nbsp;</a></span>_roster_publish_user_load()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int _roster_publish_user_load </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sm_8h.html#a245a93b4e61b4cc97383775597d17220">mod_instance_t</a>&#160;</td>
          <td class="paramname"><em>mi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sm_8h.html#a08afec6b77f953fc15df553c62b5797a">user_t</a>&#160;</td>
          <td class="paramname"><em>user</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>publish the roster from the database </p>

<p class="definition">Definition at line <a class="el" href="mod__roster__publish_8c_source.html#l00203">203</a> of file <a class="el" href="mod__roster__publish_8c_source.html">mod_roster_publish.c</a>.</p>

<p class="reference">References <a class="el" href="mod__roster__publish_8c_source.html#l00138">_roster_publish_free_walker()</a>, <a class="el" href="mod__roster__publish_8c_source.html#l00078">_roster_publish_get_group_name()</a>, <a class="el" href="mod__roster__publish_8c_source.html#l00155">_roster_publish_save_item()</a>, <a class="el" href="mod__roster__publish_8c_source.html#l00032">_roster_publish_active_cache_st::active</a>, <a class="el" href="mod__roster__publish_8c_source.html#l00051">_roster_publish_st::active_cache</a>, <a class="el" href="mod__roster__publish_8c_source.html#l00048">_roster_publish_st::active_cache_ttl</a>, <a class="el" href="mod__roster__publish_8c_source.html#l00045">_roster_publish_st::dbtable</a>, <a class="el" href="jid_8h_source.html#l00045">jid_st::domain</a>, <a class="el" href="mod__roster__publish_8c_source.html#l00045">_roster_publish_st::fetchdomain</a>, <a class="el" href="mod__roster__publish_8c_source.html#l00045">_roster_publish_st::fetchfixed</a>, <a class="el" href="mod__roster__publish_8c_source.html#l00045">_roster_publish_st::fetchuser</a>, <a class="el" href="mod__roster__publish_8c_source.html#l00044">_roster_publish_st::fixexist</a>, <a class="el" href="mod__roster__publish_8c_source.html#l00044">_roster_publish_st::fixsubs</a>, <a class="el" href="mod__roster__publish_8c_source.html#l00044">_roster_publish_st::forcegroups</a>, <a class="el" href="mod__roster__publish_8c_source.html#l00046">_roster_publish_st::groupprefix</a>, <a class="el" href="mod__roster__publish_8c_source.html#l00047">_roster_publish_st::groupprefixlen</a>, <a class="el" href="mod__roster__publish_8c_source.html#l00046">_roster_publish_st::groupsuffix</a>, <a class="el" href="mod__roster__publish_8c_source.html#l00047">_roster_publish_st::groupsuffixlen</a>, <a class="el" href="sm_8h_source.html#l00239">user_st::jid</a>, <a class="el" href="jid_8c_source.html#l00286">jid_free()</a>, <a class="el" href="jid_8c_source.html#l00346">jid_full()</a>, <a class="el" href="jid_8c_source.html#l00081">jid_new()</a>, <a class="el" href="mod__roster__publish_8c_source.html#l00033">_roster_publish_active_cache_st::jid_user</a>, <a class="el" href="sm_8h_source.html#l00200">sm_st::log</a>, <a class="el" href="log_8h_source.html#l00065">log_debug</a>, <a class="el" href="log_8c_source.html#l00104">log_write()</a>, <a class="el" href="mod__roster__publish_8c_source.html#l00044">_roster_publish_st::mappedgroups</a>, <a class="el" href="sm_8h_source.html#l00449">mod_instance_st::mod</a>, <a class="el" href="mod__roster__publish_8c_source.html#l00044">_roster_publish_st::overridenames</a>, <a class="el" href="sm_8h_source.html#l00418">module_st::private</a>, <a class="el" href="mod__roster__publish_8c_source.html#l00044">_roster_publish_st::publish</a>, <a class="el" href="mod__roster__publish_8c_source.html#l00046">_roster_publish_st::removedomain</a>, <a class="el" href="sm_8h_source.html#l00241">user_st::roster</a>, <a class="el" href="sm_8h_source.html#l00237">user_st::sm</a>, <a class="el" href="sm_8h_source.html#l00447">mod_instance_st::sm</a>, <a class="el" href="sm_8h_source.html#l00211">sm_st::st</a>, <a class="el" href="mod__roster__publish_8c_source.html#l00031">_roster_publish_active_cache_st::time</a>, <a class="el" href="xhash_8c_source.html#l00184">xhash_get()</a>, <a class="el" href="xhash_8c_source.html#l00096">xhash_new()</a>, <a class="el" href="xhash_8c_source.html#l00163">xhash_put()</a>, <a class="el" href="xhash_8c_source.html#l00235">xhash_zap()</a>, and <a class="el" href="mio__impl_8h_source.html#l00076">ZONE</a>.</p>

<p class="reference">Referenced by <a class="el" href="mod__roster__publish_8c_source.html#l00523">module_init()</a>.</p>

</div>
</div>
<a id="a489cfdbdb0bd5da6348992df5c56a7c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a489cfdbdb0bd5da6348992df5c56a7c2">&#9670;&nbsp;</a></span>_roster_publish_free()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _roster_publish_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sm_8h.html#abd095ded279ab85f46cf51bbc20cb273">module_t</a>&#160;</td>
          <td class="paramname"><em>mod</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mod__roster__publish_8c_source.html#l00507">507</a> of file <a class="el" href="mod__roster__publish_8c_source.html">mod_roster_publish.c</a>.</p>

<p class="reference">References <a class="el" href="mod__roster__publish_8c_source.html#l00060">_roster_publish_free_active_cache_walker()</a>, <a class="el" href="mod__roster__publish_8c_source.html#l00066">_roster_publish_free_group_cache_walker()</a>, <a class="el" href="mod__roster__publish_8c_source.html#l00051">_roster_publish_st::active_cache</a>, <a class="el" href="mod__roster__publish_8c_source.html#l00053">_roster_publish_st::group_cache</a>, <a class="el" href="sm_8h_source.html#l00418">module_st::private</a>, <a class="el" href="xhash_8c_source.html#l00241">xhash_free()</a>, and <a class="el" href="xhash_8c_source.html#l00268">xhash_walk()</a>.</p>

<p class="reference">Referenced by <a class="el" href="mod__roster__publish_8c_source.html#l00523">module_init()</a>.</p>

</div>
</div>
<a id="a1778ad5f4772e1c49c7ad46f27a61c0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1778ad5f4772e1c49c7ad46f27a61c0a">&#9670;&nbsp;</a></span>module_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sm_8h.html#a808e08638be3cba36e36759e5b150de0">DLLEXPORT</a> int module_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sm_8h.html#a245a93b4e61b4cc97383775597d17220">mod_instance_t</a>&#160;</td>
          <td class="paramname"><em>mi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mod__roster__publish_8c_source.html#l00523">523</a> of file <a class="el" href="mod__roster__publish_8c_source.html">mod_roster_publish.c</a>.</p>

<p class="reference">References <a class="el" href="mod__roster__publish_8c_source.html#l00507">_roster_publish_free()</a>, <a class="el" href="mod__roster__publish_8c_source.html#l00203">_roster_publish_user_load()</a>, <a class="el" href="mod__roster__publish_8c_source.html#l00048">_roster_publish_st::active_cache_ttl</a>, <a class="el" href="sm_8h_source.html#l00198">sm_st::config</a>, <a class="el" href="config_8c_source.html#l00278">config_get_one()</a>, <a class="el" href="mod__roster__publish_8c_source.html#l00045">_roster_publish_st::dbtable</a>, <a class="el" href="mod__roster__publish_8c_source.html#l00045">_roster_publish_st::fetchdomain</a>, <a class="el" href="mod__roster__publish_8c_source.html#l00045">_roster_publish_st::fetchfixed</a>, <a class="el" href="mod__roster__publish_8c_source.html#l00045">_roster_publish_st::fetchuser</a>, <a class="el" href="mod__roster__publish_8c_source.html#l00044">_roster_publish_st::fixexist</a>, <a class="el" href="mod__roster__publish_8c_source.html#l00044">_roster_publish_st::fixsubs</a>, <a class="el" href="mod__roster__publish_8c_source.html#l00044">_roster_publish_st::forcegroups</a>, <a class="el" href="sm_8h_source.html#l00442">module_st::free</a>, <a class="el" href="mod__roster__publish_8c_source.html#l00049">_roster_publish_st::group_cache_ttl</a>, <a class="el" href="mod__roster__publish_8c_source.html#l00046">_roster_publish_st::groupprefix</a>, <a class="el" href="mod__roster__publish_8c_source.html#l00047">_roster_publish_st::groupprefixlen</a>, <a class="el" href="mod__roster__publish_8c_source.html#l00046">_roster_publish_st::groupsuffix</a>, <a class="el" href="mod__roster__publish_8c_source.html#l00047">_roster_publish_st::groupsuffixlen</a>, <a class="el" href="sm_8h_source.html#l00416">module_st::init</a>, <a class="el" href="str_8c_source.html#l00087">j_atoi()</a>, <a class="el" href="mod__roster__publish_8c_source.html#l00044">_roster_publish_st::mappedgroups</a>, <a class="el" href="sm_8h_source.html#l00404">module_st::mm</a>, <a class="el" href="sm_8h_source.html#l00449">mod_instance_st::mod</a>, <a class="el" href="mod__roster__publish_8c_source.html#l00044">_roster_publish_st::overridenames</a>, <a class="el" href="sm_8h_source.html#l00418">module_st::private</a>, <a class="el" href="mod__roster__publish_8c_source.html#l00044">_roster_publish_st::publish</a>, <a class="el" href="mod__roster__publish_8c_source.html#l00046">_roster_publish_st::removedomain</a>, <a class="el" href="sm_8h_source.html#l00366">mm_st::sm</a>, and <a class="el" href="sm_8h_source.html#l00434">module_st::user_load</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
